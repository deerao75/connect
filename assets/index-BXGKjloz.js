(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function Y0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var To={exports:{}},us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function K0(){if(Fd)return us;Fd=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:s,type:r,key:h,ref:c!==void 0?c:null,props:f}}return us.Fragment=a,us.jsx=l,us.jsxs=l,us}var eg;function V0(){return eg||(eg=1,To.exports=K0()),To.exports}var O=V0(),Ao={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function I0(){if(tg)return ne;tg=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function H(S,L,$){this.props=S,this.context=L,this.refs=B,this.updater=$||N}H.prototype.isReactComponent={},H.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function q(S,L,$){this.props=S,this.context=L,this.refs=B,this.updater=$||N}var Z=q.prototype=new Y;Z.constructor=q,M(Z,H.prototype),Z.isPureReactComponent=!0;var me=Array.isArray;function ae(){}var J={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function Me(S,L,$){var V=$.ref;return{$$typeof:s,type:S,key:L,ref:V!==void 0?V:null,props:$}}function te(S,L){return Me(S.type,L,S.props)}function Re(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function de(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return L[$]})}var xe=/\/+/g;function Ye(S,L){return typeof S=="object"&&S!==null&&S.key!=null?de(""+S.key):L.toString(36)}function je(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ae,ae):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function U(S,L,$,V,ie){var re=typeof S;(re==="undefined"||re==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case s:case a:pe=!0;break;case p:return pe=S._init,U(pe(S._payload),L,$,V,ie)}}if(pe)return ie=ie(S),pe=V===""?"."+Ye(S,0):V,me(ie)?($="",pe!=null&&($=pe.replace(xe,"$&/")+"/"),U(ie,L,$,"",function(vi){return vi})):ie!=null&&(Re(ie)&&(ie=te(ie,$+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(xe,"$&/")+"/")+pe)),L.push(ie)),1;pe=0;var ut=V===""?".":V+":";if(me(S))for(var He=0;He<S.length;He++)V=S[He],re=ut+Ye(V,He),pe+=U(V,L,$,re,ie);else if(He=E(S),typeof He=="function")for(S=He.call(S),He=0;!(V=S.next()).done;)V=V.value,re=ut+Ye(V,He++),pe+=U(V,L,$,re,ie);else if(re==="object"){if(typeof S.then=="function")return U(je(S),L,$,V,ie);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(S,L,$){if(S==null)return S;var V=[],ie=0;return U(S,V,"","",function(re){return L.call($,re,ie++)}),V}function ee(S){if(S._status===-1){var L=S._result;L=L(),L.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var we=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ae={map:G,forEach:function(S,L,$){G(S,function(){L.apply(this,arguments)},$)},count:function(S){var L=0;return G(S,function(){L++}),L},toArray:function(S){return G(S,function(L){return L})||[]},only:function(S){if(!Re(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ne.Activity=T,ne.Children=Ae,ne.Component=H,ne.Fragment=l,ne.Profiler=c,ne.PureComponent=q,ne.StrictMode=r,ne.Suspense=m,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ne.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},ne.cache=function(S){return function(){return S.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(S,L,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var V=M({},S.props),ie=S.key;if(L!=null)for(re in L.key!==void 0&&(ie=""+L.key),L)!Ne.call(L,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&L.ref===void 0||(V[re]=L[re]);var re=arguments.length-2;if(re===1)V.children=$;else if(1<re){for(var pe=Array(re),ut=0;ut<re;ut++)pe[ut]=arguments[ut+2];V.children=pe}return Me(S.type,ie,V)},ne.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ne.createElement=function(S,L,$){var V,ie={},re=null;if(L!=null)for(V in L.key!==void 0&&(re=""+L.key),L)Ne.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ie[V]=L[V]);var pe=arguments.length-2;if(pe===1)ie.children=$;else if(1<pe){for(var ut=Array(pe),He=0;He<pe;He++)ut[He]=arguments[He+2];ie.children=ut}if(S&&S.defaultProps)for(V in pe=S.defaultProps,pe)ie[V]===void 0&&(ie[V]=pe[V]);return Me(S,re,ie)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(S){return{$$typeof:g,render:S}},ne.isValidElement=Re,ne.lazy=function(S){return{$$typeof:p,_payload:{_status:-1,_result:S},_init:ee}},ne.memo=function(S,L){return{$$typeof:v,type:S,compare:L===void 0?null:L}},ne.startTransition=function(S){var L=J.T,$={};J.T=$;try{var V=S(),ie=J.S;ie!==null&&ie($,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ae,we)}catch(re){we(re)}finally{L!==null&&$.types!==null&&(L.types=$.types),J.T=L}},ne.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ne.use=function(S){return J.H.use(S)},ne.useActionState=function(S,L,$){return J.H.useActionState(S,L,$)},ne.useCallback=function(S,L){return J.H.useCallback(S,L)},ne.useContext=function(S){return J.H.useContext(S)},ne.useDebugValue=function(){},ne.useDeferredValue=function(S,L){return J.H.useDeferredValue(S,L)},ne.useEffect=function(S,L){return J.H.useEffect(S,L)},ne.useEffectEvent=function(S){return J.H.useEffectEvent(S)},ne.useId=function(){return J.H.useId()},ne.useImperativeHandle=function(S,L,$){return J.H.useImperativeHandle(S,L,$)},ne.useInsertionEffect=function(S,L){return J.H.useInsertionEffect(S,L)},ne.useLayoutEffect=function(S,L){return J.H.useLayoutEffect(S,L)},ne.useMemo=function(S,L){return J.H.useMemo(S,L)},ne.useOptimistic=function(S,L){return J.H.useOptimistic(S,L)},ne.useReducer=function(S,L,$){return J.H.useReducer(S,L,$)},ne.useRef=function(S){return J.H.useRef(S)},ne.useState=function(S){return J.H.useState(S)},ne.useSyncExternalStore=function(S,L,$){return J.H.useSyncExternalStore(S,L,$)},ne.useTransition=function(){return J.H.useTransition()},ne.version="19.2.4",ne}var ng;function Xo(){return ng||(ng=1,Ao.exports=I0()),Ao.exports}var qe=Xo();const X0=Y0(qe);var Oo={exports:{}},os={},Ro={exports:{}},xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function J0(){return ag||(ag=1,(function(s){function a(U,G){var ee=U.length;U.push(G);e:for(;0<ee;){var we=ee-1>>>1,Ae=U[we];if(0<c(Ae,G))U[we]=G,U[ee]=Ae,ee=we;else break e}}function l(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],ee=U.pop();if(ee!==G){U[0]=ee;e:for(var we=0,Ae=U.length,S=Ae>>>1;we<S;){var L=2*(we+1)-1,$=U[L],V=L+1,ie=U[V];if(0>c($,ee))V<Ae&&0>c(ie,$)?(U[we]=ie,U[V]=ee,we=V):(U[we]=$,U[L]=ee,we=L);else if(V<Ae&&0>c(ie,ee))U[we]=ie,U[V]=ee,we=V;else break e}}return G}function c(U,G){var ee=U.sortIndex-G.sortIndex;return ee!==0?ee:U.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var m=[],v=[],p=1,T=null,w=3,E=!1,N=!1,M=!1,B=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(U){for(var G=l(v);G!==null;){if(G.callback===null)r(v);else if(G.startTime<=U)r(v),G.sortIndex=G.expirationTime,a(m,G);else break;G=l(v)}}function me(U){if(M=!1,Z(U),!N)if(l(m)!==null)N=!0,ae||(ae=!0,de());else{var G=l(v);G!==null&&je(me,G.startTime-U)}}var ae=!1,J=-1,Ne=5,Me=-1;function te(){return B?!0:!(s.unstable_now()-Me<Ne)}function Re(){if(B=!1,ae){var U=s.unstable_now();Me=U;var G=!0;try{e:{N=!1,M&&(M=!1,Y(J),J=-1),E=!0;var ee=w;try{t:{for(Z(U),T=l(m);T!==null&&!(T.expirationTime>U&&te());){var we=T.callback;if(typeof we=="function"){T.callback=null,w=T.priorityLevel;var Ae=we(T.expirationTime<=U);if(U=s.unstable_now(),typeof Ae=="function"){T.callback=Ae,Z(U),G=!0;break t}T===l(m)&&r(m),Z(U)}else r(m);T=l(m)}if(T!==null)G=!0;else{var S=l(v);S!==null&&je(me,S.startTime-U),G=!1}}break e}finally{T=null,w=ee,E=!1}G=void 0}}finally{G?de():ae=!1}}}var de;if(typeof q=="function")de=function(){q(Re)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ye=xe.port2;xe.port1.onmessage=Re,de=function(){Ye.postMessage(null)}}else de=function(){H(Re,0)};function je(U,G){J=H(function(){U(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(U){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ee=w;w=G;try{return U()}finally{w=ee}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=w;w=U;try{return G()}finally{w=ee}},s.unstable_scheduleCallback=function(U,G,ee){var we=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,U){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ee+Ae,U={id:p++,callback:G,priorityLevel:U,startTime:ee,expirationTime:Ae,sortIndex:-1},ee>we?(U.sortIndex=ee,a(v,U),l(m)===null&&U===l(v)&&(M?(Y(J),J=-1):M=!0,je(me,ee-we))):(U.sortIndex=Ae,a(m,U),N||E||(N=!0,ae||(ae=!0,de()))),U},s.unstable_shouldYield=te,s.unstable_wrapCallback=function(U){var G=w;return function(){var ee=w;w=G;try{return U.apply(this,arguments)}finally{w=ee}}}})(xo)),xo}var ig;function Q0(){return ig||(ig=1,Ro.exports=J0()),Ro.exports}var Co={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Z0(){if(sg)return lt;sg=1;var s=Xo();function a(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(m,v,p){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:m,containerInfo:v,implementation:p}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lt.createPortal=function(m,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return f(m,v,null,p)},lt.flushSync=function(m){var v=h.T,p=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=v,r.p=p,r.d.f()}},lt.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(m,v))},lt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},lt.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var p=v.as,T=g(p,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?r.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:E}):p==="script"&&r.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},lt.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=g(v.as,v.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(m)},lt.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,T=g(p,v.crossOrigin);r.d.L(m,p,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},lt.preloadModule=function(m,v){if(typeof m=="string")if(v){var p=g(v.as,v.crossOrigin);r.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(m)},lt.requestFormReset=function(m){r.d.r(m)},lt.unstable_batchedUpdates=function(m,v){return m(v)},lt.useFormState=function(m,v,p){return h.H.useFormState(m,v,p)},lt.useFormStatus=function(){return h.H.useHostTransitionStatus()},lt.version="19.2.4",lt}var lg;function W0(){if(lg)return Co.exports;lg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Co.exports=Z0(),Co.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function P0(){if(rg)return os;rg=1;var s=Q0(),a=Xo(),l=W0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return m(u),e;if(o===i)return m(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var d=!1,y=u.child;y;){if(y===n){d=!0,n=u,i=o;break}if(y===i){d=!0,i=u,n=o;break}y=y.sibling}if(!d){for(y=o.child;y;){if(y===n){d=!0,n=o,i=u;break}if(y===i){d=!0,i=o,n=u;break}y=y.sibling}if(!d)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Me=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=Re&&e[Re]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case me:return"Suspense";case ae:return"SuspenseList";case Me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case q:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var je=Array.isArray,U=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},we=[],Ae=-1;function S(e){return{current:e}}function L(e){0>Ae||(e.current=we[Ae],we[Ae]=null,Ae--)}function $(e,t){Ae++,we[Ae]=e.current,e.current=t}var V=S(null),ie=S(null),re=S(null),pe=S(null);function ut(e,t){switch($(re,t),$(ie,e),$(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sd(t),e=Ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(V),$(V,e)}function He(){L(V),L(ie),L(re)}function vi(e){e.memoizedState!==null&&$(pe,e);var t=V.current,n=Ed(t,e.type);t!==n&&($(ie,e),$(V,n))}function Os(e){ie.current===e&&(L(V),L(ie)),pe.current===e&&(L(pe),is._currentValue=ee)}var sr,Wo;function In(e){if(sr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sr=t&&t[1]||"",Wo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+e+Wo}var lr=!1;function rr(e,t){if(!e||lr)return"";lr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(j){var C=j}Reflect.construct(e,[],z)}else{try{z.call()}catch(j){C=j}e.call(z.prototype)}}else{try{throw Error()}catch(j){C=j}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(j){if(j&&C&&typeof j.stack=="string")return[j.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),d=o[0],y=o[1];if(d&&y){var b=d.split(`
`),x=y.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===x.length)for(i=b.length-1,u=x.length-1;1<=i&&0<=u&&b[i]!==x[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==x[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==x[u]){var D=`
`+b[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=u);break}}}finally{lr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?In(n):""}function _v(e,t){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==t&&t!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return In("Activity");default:return""}}function Po(e){try{var t="",n=null;do t+=_v(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ur=Object.prototype.hasOwnProperty,or=s.unstable_scheduleCallback,cr=s.unstable_cancelCallback,wv=s.unstable_shouldYield,Sv=s.unstable_requestPaint,yt=s.unstable_now,Ev=s.unstable_getCurrentPriorityLevel,Fo=s.unstable_ImmediatePriority,ec=s.unstable_UserBlockingPriority,Rs=s.unstable_NormalPriority,Tv=s.unstable_LowPriority,tc=s.unstable_IdlePriority,Av=s.log,Ov=s.unstable_setDisableYieldValue,mi=null,pt=null;function yn(e){if(typeof Av=="function"&&Ov(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(mi,e)}catch{}}var bt=Math.clz32?Math.clz32:Cv,Rv=Math.log,xv=Math.LN2;function Cv(e){return e>>>=0,e===0?32:31-(Rv(e)/xv|0)|0}var xs=256,Cs=262144,Ns=4194304;function Xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~o,i!==0?u=Xn(i):(d&=y,d!==0?u=Xn(d):n||(n=y&~e,n!==0&&(u=Xn(n))))):(y=i&~o,y!==0?u=Xn(y):d!==0?u=Xn(d):n||(n=i&~e,n!==0&&(u=Xn(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var e=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),e}function fr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jv(e,t,n,i,u,o){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,b=e.expirationTimes,x=e.hiddenUpdates;for(n=d&~n;0<n;){var D=31-bt(n),z=1<<D;y[D]=0,b[D]=-1;var C=x[D];if(C!==null)for(x[D]=null,D=0;D<C.length;D++){var j=C[D];j!==null&&(j.lane&=-536870913)}n&=~z}i!==0&&ac(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function ac(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-bt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-bt(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function sc(e,t){var n=t&-t;return n=(n&42)!==0?1:hr(n),(n&(e.suspendedLanes|t))!==0?0:n}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Id(e.type))}function rc(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var pn=Math.random().toString(36).slice(2),Fe="__reactFiber$"+pn,ct="__reactProps$"+pn,pa="__reactContainer$"+pn,gr="__reactEvents$"+pn,Uv="__reactListeners$"+pn,Dv="__reactHandles$"+pn,uc="__reactResources$"+pn,bi="__reactMarker$"+pn;function vr(e){delete e[Fe],delete e[ct],delete e[gr],delete e[Uv],delete e[Dv]}function ba(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[Fe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nd(e);e!==null;){if(n=e[Fe])return n;e=Nd(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Fe]||e[pa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _i(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function wa(e){var t=e[uc];return t||(t=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[bi]=!0}var oc=new Set,cc={};function Jn(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(cc[e]=t,e=0;e<t.length;e++)oc.add(t[e])}var kv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},hc={};function Mv(e){return ur.call(hc,e)?!0:ur.call(fc,e)?!1:kv.test(e)?hc[e]=!0:(fc[e]=!0,!1)}function Us(e,t,n){if(Mv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ds(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Zt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zv(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){n=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mr(e){if(!e._valueTracker){var t=dc(e)?"checked":"value";e._valueTracker=zv(e,t,""+e[t])}}function gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=dc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lv=/[\n"\\]/g;function Nt(e){return e.replace(Lv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yr(e,t,n,i,u,o,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?pr(e,d,Ct(t)):n!=null?pr(e,d,Ct(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ct(y):e.removeAttribute("name")}function vc(e,t,n,i,u,o,d,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){mr(e);return}n=n!=null?""+Ct(n):"",t=t!=null?""+Ct(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),mr(e)}function pr(e,t,n){t==="number"&&ks(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ea(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function mc(e,t,n){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ct(n):""}function yc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(je(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ct(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),mr(e)}function Ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Bv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&pc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&pc(e,o,t[o])}function br(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return Hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var _r=null;function wr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,Oa=null;function _c(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(yr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[ct]||null;if(!u)throw Error(r(90));yr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&gc(i)}break e;case"textarea":mc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ea(e,!!n.multiple,t,!1)}}}var Sr=!1;function wc(e,t,n){if(Sr)return e(t,n);Sr=!0;try{var i=e(t);return i}finally{if(Sr=!1,(Aa!==null||Oa!==null)&&(Sl(),Aa&&(t=Aa,e=Oa,Oa=Aa=null,_c(t),e)))for(t=0;t<e.length;t++)_c(e[t])}}function wi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ct]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Pt)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Er=!1}var bn=null,Tr=null,zs=null;function Sc(){if(zs)return zs;var e,t=Tr,n=t.length,i,u="value"in bn?bn.value:bn.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===u[o-i];i++);return zs=u.slice(e,1<i?1-i:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function Ec(){return!1}function ft(e){function t(n,i,u,o,d){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bs:Ec,this.isPropagationStopped=Ec,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=ft(Qn),Ei=T({},Qn,{view:0,detail:0}),Gv=ft(Ei),Ar,Or,Ti,Hs=T({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Ar=e.screenX-Ti.screenX,Or=e.screenY-Ti.screenY):Or=Ar=0,Ti=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:Or}}),Tc=ft(Hs),$v=T({},Hs,{dataTransfer:0}),Yv=ft($v),Kv=T({},Ei,{relatedTarget:0}),Rr=ft(Kv),Vv=T({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=ft(Vv),Xv=T({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jv=ft(Xv),Qv=T({},Qn,{data:0}),Ac=ft(Qv),Zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pv[e])?!!t[e]:!1}function xr(){return Fv}var em=T({},Ei,{key:function(e){if(e.key){var t=Zv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tm=ft(em),nm=T({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=ft(nm),am=T({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),im=ft(am),sm=T({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=ft(sm),rm=T({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),um=ft(rm),om=T({},Qn,{newState:0,oldState:0}),cm=ft(om),fm=[9,13,27,32],Cr=Pt&&"CompositionEvent"in window,Ai=null;Pt&&"documentMode"in document&&(Ai=document.documentMode);var hm=Pt&&"TextEvent"in window&&!Ai,Rc=Pt&&(!Cr||Ai&&8<Ai&&11>=Ai),xc=" ",Cc=!1;function Nc(e,t){switch(e){case"keyup":return fm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function dm(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(Cc=!0,xc);case"textInput":return e=t.data,e===xc&&Cc?null:e;default:return null}}function gm(e,t){if(Ra)return e==="compositionend"||!Cr&&Nc(e,t)?(e=Sc(),zs=Tr=bn=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rc&&t.locale!=="ko"?null:t.data;default:return null}}var vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vm[e.type]:t==="textarea"}function Dc(e,t,n,i){Aa?Oa?Oa.push(i):Oa=[i]:Aa=i,t=Cl(t,"onChange"),0<t.length&&(n=new qs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Oi=null,Ri=null;function mm(e){md(e,0)}function Gs(e){var t=_i(e);if(gc(t))return e}function kc(e,t){if(e==="change")return t}var Mc=!1;if(Pt){var Nr;if(Pt){var jr="oninput"in document;if(!jr){var zc=document.createElement("div");zc.setAttribute("oninput","return;"),jr=typeof zc.oninput=="function"}Nr=jr}else Nr=!1;Mc=Nr&&(!document.documentMode||9<document.documentMode)}function Lc(){Oi&&(Oi.detachEvent("onpropertychange",Bc),Ri=Oi=null)}function Bc(e){if(e.propertyName==="value"&&Gs(Ri)){var t=[];Dc(t,Ri,e,wr(e)),wc(mm,t)}}function ym(e,t,n){e==="focusin"?(Lc(),Oi=t,Ri=n,Oi.attachEvent("onpropertychange",Bc)):e==="focusout"&&Lc()}function pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(Ri)}function bm(e,t){if(e==="click")return Gs(t)}function _m(e,t){if(e==="input"||e==="change")return Gs(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:wm;function xi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!ur.call(t,u)||!_t(e[u],t[u]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var n=qc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qc(n)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $c(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ks(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ks(e.document)}return t}function Ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sm=Pt&&"documentMode"in document&&11>=document.documentMode,xa=null,Dr=null,Ci=null,kr=!1;function Yc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||xa==null||xa!==ks(i)||(i=xa,"selectionStart"in i&&Ur(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ci&&xi(Ci,i)||(Ci=i,i=Cl(Dr,"onSelect"),0<i.length&&(t=new qs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xa)))}function Zn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},Mr={},Kc={};Pt&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Wn(e){if(Mr[e])return Mr[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kc)return Mr[e]=t[n];return e}var Vc=Wn("animationend"),Ic=Wn("animationiteration"),Xc=Wn("animationstart"),Em=Wn("transitionrun"),Tm=Wn("transitionstart"),Am=Wn("transitioncancel"),Jc=Wn("transitionend"),Qc=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function qt(e,t){Qc.set(e,t),Jn(t,[e])}var $s=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jt=[],Na=0,Lr=0;function Ys(){for(var e=Na,t=Lr=Na=0;t<e;){var n=jt[t];jt[t++]=null;var i=jt[t];jt[t++]=null;var u=jt[t];jt[t++]=null;var o=jt[t];if(jt[t++]=null,i!==null&&u!==null){var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}o!==0&&Zc(n,u,o)}}function Ks(e,t,n,i){jt[Na++]=e,jt[Na++]=t,jt[Na++]=n,jt[Na++]=i,Lr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Br(e,t,n,i){return Ks(e,t,n,i),Vs(e)}function Pn(e,t){return Ks(e,null,null,t),Vs(e)}function Zc(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-bt(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function Vs(e){if(50<Wi)throw Wi=0,Xu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function Om(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,i){return new Om(e,t,n,i)}function qr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Is(e,t,n,i,u,o){var d=0;if(i=e,typeof e=="function")qr(e)&&(d=1);else if(typeof e=="string")d=j0(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Me:return e=wt(31,n,t,u),e.elementType=Me,e.lanes=o,e;case M:return Fn(n.children,u,o,t);case B:d=8,u|=24;break;case H:return e=wt(12,n,t,u|2),e.elementType=H,e.lanes=o,e;case me:return e=wt(13,n,t,u),e.elementType=me,e.lanes=o,e;case ae:return e=wt(19,n,t,u),e.elementType=ae,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:d=10;break e;case Y:d=9;break e;case Z:d=11;break e;case J:d=14;break e;case Ne:d=16,i=null;break e}d=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=wt(d,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function Fn(e,t,n,i){return e=wt(7,e,i,t),e.lanes=n,e}function Hr(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Pc(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fc=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var n=Fc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Po(t)},Fc.set(e,t),t)}return{value:e,source:t,stack:Po(t)}}var Ua=[],Da=0,Xs=null,Ni=0,Dt=[],kt=0,_n=null,It=1,Xt="";function en(e,t){Ua[Da++]=Ni,Ua[Da++]=Xs,Xs=e,Ni=t}function ef(e,t,n){Dt[kt++]=It,Dt[kt++]=Xt,Dt[kt++]=_n,_n=e;var i=It;e=Xt;var u=32-bt(i)-1;i&=~(1<<u),n+=1;var o=32-bt(t)+u;if(30<o){var d=u-u%5;o=(i&(1<<d)-1).toString(32),i>>=d,u-=d,It=1<<32-bt(t)+u|n<<u|i,Xt=o+e}else It=1<<o|n<<u|i,Xt=e}function $r(e){e.return!==null&&(en(e,1),ef(e,1,0))}function Yr(e){for(;e===Xs;)Xs=Ua[--Da],Ua[Da]=null,Ni=Ua[--Da],Ua[Da]=null;for(;e===_n;)_n=Dt[--kt],Dt[kt]=null,Xt=Dt[--kt],Dt[kt]=null,It=Dt[--kt],Dt[kt]=null}function tf(e,t){Dt[kt++]=It,Dt[kt++]=Xt,Dt[kt++]=_n,It=t.id,Xt=t.overflow,_n=e}var et=null,Ue=null,he=!1,wn=null,Mt=!1,Kr=Error(r(519));function Sn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(Ut(t,e)),Kr}function nf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Fe]=e,t[ct]=i,n){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(n=0;n<Fi.length;n++)oe(Fi[n],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),vc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),yc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_d(t.textContent,n)?(i.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),i.onScroll!=null&&oe("scroll",t),i.onScrollEnd!=null&&oe("scrollend",t),i.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||Sn(e,!0)}function af(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:et=et.return}}function ka(e){if(e!==et)return!1;if(!he)return af(e),he=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||uo(e.type,e.memoizedProps)),n=!n),n&&Ue&&Sn(e),af(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=Cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=Cd(e)}else t===27?(t=Ue,zn(e.type)?(e=go,go=null,Ue=e):Ue=t):Ue=et?Lt(e.stateNode.nextSibling):null;return!0}function ea(){Ue=et=null,he=!1}function Vr(){var e=wn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),wn=null),e}function ji(e){wn===null?wn=[e]:wn.push(e)}var Ir=S(null),ta=null,tn=null;function En(e,t,n){$(Ir,t._currentValue),t._currentValue=n}function nn(e){e._currentValue=Ir.current,L(Ir)}function Xr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var b=0;b<t.length;b++)if(y.context===t[b]){o.lanes|=n,y=o.alternate,y!==null&&(y.lanes|=n),Xr(o.return,n,e),i||(d=null);break e}o=y.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),Xr(d,n,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Ma(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var y=u.type;_t(u.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(u===pe.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(is):e=[is])}u=u.return}e!==null&&Jr(t,e,n,i),t.flags|=262144}function Js(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return sf(ta,e)}function Qs(e,t){return ta===null&&na(e),sf(e,t)}function sf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},tn===null){if(e===null)throw Error(r(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return n}var Rm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},xm=s.unstable_scheduleCallback,Cm=s.unstable_NormalPriority,Ke={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qr(){return{controller:new Rm,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&xm(Cm,function(){e.controller.abort()})}var Di=null,Zr=0,za=0,La=null;function Nm(e,t){if(Di===null){var n=Di=[];Zr=0,za=Fu(),La={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Zr++,t.then(lf,lf),t}function lf(){if(--Zr===0&&Di!==null){La!==null&&(La.status="fulfilled");var e=Di;Di=null,za=0,La=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jm(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var rf=U.S;U.S=function(e,t){Kh=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Nm(e,t),rf!==null&&rf(e,t)};var aa=S(null);function Wr(){var e=aa.current;return e!==null?e:Oe.pooledCache}function Zs(e,t){t===null?$(aa,aa.current):$(aa,t.pool)}function uf(){var e=Wr();return e===null?null:{parent:Ke._currentValue,pool:e}}var Ba=Error(r(460)),Pr=Error(r(474)),Ws=Error(r(542)),Ps={then:function(){}};function of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wt,Wt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hf(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hf(e),e}throw sa=t,Ba}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,Ba):n}}var sa=null;function ff(){if(sa===null)throw Error(r(459));var e=sa;return sa=null,e}function hf(e){if(e===Ba||e===Ws)throw Error(r(483))}var qa=null,ki=0;function Fs(e){var t=ki;return ki+=1,qa===null&&(qa=[]),cf(qa,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function el(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(A,_){if(e){var R=A.deletions;R===null?(A.deletions=[_],A.flags|=16):R.push(_)}}function n(A,_){if(!e)return null;for(;_!==null;)t(A,_),_=_.sibling;return null}function i(A){for(var _=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function u(A,_){return A=Ft(A,_),A.index=0,A.sibling=null,A}function o(A,_,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<_?(A.flags|=67108866,_):R):(A.flags|=67108866,_)):(A.flags|=1048576,_)}function d(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,_,R,k){return _===null||_.tag!==6?(_=Hr(R,A.mode,k),_.return=A,_):(_=u(_,R),_.return=A,_)}function b(A,_,R,k){var Q=R.type;return Q===M?D(A,_,R.props.children,k,R.key):_!==null&&(_.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ne&&ia(Q)===_.type)?(_=u(_,R.props),Mi(_,R),_.return=A,_):(_=Is(R.type,R.key,R.props,null,A.mode,k),Mi(_,R),_.return=A,_)}function x(A,_,R,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Gr(R,A.mode,k),_.return=A,_):(_=u(_,R.children||[]),_.return=A,_)}function D(A,_,R,k,Q){return _===null||_.tag!==7?(_=Fn(R,A.mode,k,Q),_.return=A,_):(_=u(_,R),_.return=A,_)}function z(A,_,R){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Hr(""+_,A.mode,R),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return R=Is(_.type,_.key,_.props,null,A.mode,R),Mi(R,_),R.return=A,R;case N:return _=Gr(_,A.mode,R),_.return=A,_;case Ne:return _=ia(_),z(A,_,R)}if(je(_)||de(_))return _=Fn(_,A.mode,R,null),_.return=A,_;if(typeof _.then=="function")return z(A,Fs(_),R);if(_.$$typeof===q)return z(A,Qs(A,_),R);el(A,_)}return null}function C(A,_,R,k){var Q=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return Q!==null?null:y(A,_,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return R.key===Q?b(A,_,R,k):null;case N:return R.key===Q?x(A,_,R,k):null;case Ne:return R=ia(R),C(A,_,R,k)}if(je(R)||de(R))return Q!==null?null:D(A,_,R,k,null);if(typeof R.then=="function")return C(A,_,Fs(R),k);if(R.$$typeof===q)return C(A,_,Qs(A,R),k);el(A,R)}return null}function j(A,_,R,k,Q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return A=A.get(R)||null,y(_,A,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return A=A.get(k.key===null?R:k.key)||null,b(_,A,k,Q);case N:return A=A.get(k.key===null?R:k.key)||null,x(_,A,k,Q);case Ne:return k=ia(k),j(A,_,R,k,Q)}if(je(k)||de(k))return A=A.get(R)||null,D(_,A,k,Q,null);if(typeof k.then=="function")return j(A,_,R,Fs(k),Q);if(k.$$typeof===q)return j(A,_,R,Qs(_,k),Q);el(_,k)}return null}function K(A,_,R,k){for(var Q=null,ge=null,I=_,le=_=0,fe=null;I!==null&&le<R.length;le++){I.index>le?(fe=I,I=null):fe=I.sibling;var ve=C(A,I,R[le],k);if(ve===null){I===null&&(I=fe);break}e&&I&&ve.alternate===null&&t(A,I),_=o(ve,_,le),ge===null?Q=ve:ge.sibling=ve,ge=ve,I=fe}if(le===R.length)return n(A,I),he&&en(A,le),Q;if(I===null){for(;le<R.length;le++)I=z(A,R[le],k),I!==null&&(_=o(I,_,le),ge===null?Q=I:ge.sibling=I,ge=I);return he&&en(A,le),Q}for(I=i(I);le<R.length;le++)fe=j(I,A,le,R[le],k),fe!==null&&(e&&fe.alternate!==null&&I.delete(fe.key===null?le:fe.key),_=o(fe,_,le),ge===null?Q=fe:ge.sibling=fe,ge=fe);return e&&I.forEach(function(Gn){return t(A,Gn)}),he&&en(A,le),Q}function W(A,_,R,k){if(R==null)throw Error(r(151));for(var Q=null,ge=null,I=_,le=_=0,fe=null,ve=R.next();I!==null&&!ve.done;le++,ve=R.next()){I.index>le?(fe=I,I=null):fe=I.sibling;var Gn=C(A,I,ve.value,k);if(Gn===null){I===null&&(I=fe);break}e&&I&&Gn.alternate===null&&t(A,I),_=o(Gn,_,le),ge===null?Q=Gn:ge.sibling=Gn,ge=Gn,I=fe}if(ve.done)return n(A,I),he&&en(A,le),Q;if(I===null){for(;!ve.done;le++,ve=R.next())ve=z(A,ve.value,k),ve!==null&&(_=o(ve,_,le),ge===null?Q=ve:ge.sibling=ve,ge=ve);return he&&en(A,le),Q}for(I=i(I);!ve.done;le++,ve=R.next())ve=j(I,A,le,ve.value,k),ve!==null&&(e&&ve.alternate!==null&&I.delete(ve.key===null?le:ve.key),_=o(ve,_,le),ge===null?Q=ve:ge.sibling=ve,ge=ve);return e&&I.forEach(function($0){return t(A,$0)}),he&&en(A,le),Q}function Te(A,_,R,k){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case E:e:{for(var Q=R.key;_!==null;){if(_.key===Q){if(Q=R.type,Q===M){if(_.tag===7){n(A,_.sibling),k=u(_,R.props.children),k.return=A,A=k;break e}}else if(_.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ne&&ia(Q)===_.type){n(A,_.sibling),k=u(_,R.props),Mi(k,R),k.return=A,A=k;break e}n(A,_);break}else t(A,_);_=_.sibling}R.type===M?(k=Fn(R.props.children,A.mode,k,R.key),k.return=A,A=k):(k=Is(R.type,R.key,R.props,null,A.mode,k),Mi(k,R),k.return=A,A=k)}return d(A);case N:e:{for(Q=R.key;_!==null;){if(_.key===Q)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){n(A,_.sibling),k=u(_,R.children||[]),k.return=A,A=k;break e}else{n(A,_);break}else t(A,_);_=_.sibling}k=Gr(R,A.mode,k),k.return=A,A=k}return d(A);case Ne:return R=ia(R),Te(A,_,R,k)}if(je(R))return K(A,_,R,k);if(de(R)){if(Q=de(R),typeof Q!="function")throw Error(r(150));return R=Q.call(R),W(A,_,R,k)}if(typeof R.then=="function")return Te(A,_,Fs(R),k);if(R.$$typeof===q)return Te(A,_,Qs(A,R),k);el(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,_!==null&&_.tag===6?(n(A,_.sibling),k=u(_,R),k.return=A,A=k):(n(A,_),k=Hr(R,A.mode,k),k.return=A,A=k),d(A)):n(A,_)}return function(A,_,R,k){try{ki=0;var Q=Te(A,_,R,k);return qa=null,Q}catch(I){if(I===Ba||I===Ws)throw I;var ge=wt(29,I,null,A.mode);return ge.lanes=k,ge.return=A,ge}finally{}}}var la=df(!0),gf=df(!1),Tn=!1;function Fr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ye&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Vs(e),Zc(e,null,n),t}return Ks(e,i,t,n),Vs(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ic(e,n)}}function tu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nu=!1;function Li(){if(nu){var e=La;if(e!==null)throw e}}function Bi(e,t,n,i){nu=!1;var u=e.updateQueue;Tn=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var b=y,x=b.next;b.next=null,d===null?o=x:d.next=x,d=b;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==d&&(y===null?D.firstBaseUpdate=x:y.next=x,D.lastBaseUpdate=b))}if(o!==null){var z=u.baseState;d=0,D=x=b=null,y=o;do{var C=y.lane&-536870913,j=C!==y.lane;if(j?(ce&C)===C:(i&C)===C){C!==0&&C===za&&(nu=!0),D!==null&&(D=D.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var K=e,W=y;C=t;var Te=n;switch(W.tag){case 1:if(K=W.payload,typeof K=="function"){z=K.call(Te,z,C);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=W.payload,C=typeof K=="function"?K.call(Te,z,C):K,C==null)break e;z=T({},z,C);break e;case 2:Tn=!0}}C=y.callback,C!==null&&(e.flags|=64,j&&(e.flags|=8192),j=u.callbacks,j===null?u.callbacks=[C]:j.push(C))}else j={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(x=D=j,b=z):D=D.next=j,d|=C;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;j=y,y=j.next,j.next=null,u.lastBaseUpdate=j,u.shared.pending=null}}while(!0);D===null&&(b=z),u.baseState=b,u.firstBaseUpdate=x,u.lastBaseUpdate=D,o===null&&(u.shared.lanes=0),jn|=d,e.lanes=d,e.memoizedState=z}}function vf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function mf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vf(n[e],t)}var Ha=S(null),tl=S(0);function yf(e,t){e=hn,$(tl,e),$(Ha,t),hn=e|t.baseLanes}function au(){$(tl,hn),$(Ha,Ha.current)}function iu(){hn=tl.current,L(Ha),L(tl)}var St=S(null),zt=null;function Rn(e){var t=e.alternate;$(Ge,Ge.current&1),$(St,e),zt===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(zt=e)}function su(e){$(Ge,Ge.current),$(St,e),zt===null&&(zt=e)}function pf(e){e.tag===22?($(Ge,Ge.current),$(St,e),zt===null&&(zt=e)):xn()}function xn(){$(Ge,Ge.current),$(St,St.current)}function Et(e){L(St),zt===e&&(zt=null),L(Ge)}var Ge=S(0);function nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||fo(n)||ho(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=0,se=null,Se=null,Ve=null,al=!1,Ga=!1,ra=!1,il=0,qi=0,$a=null,Um=0;function ze(){throw Error(r(321))}function lu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function ru(e,t,n,i,u,o){return an=o,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?th:Su,ra=!1,o=n(i,u),ra=!1,Ga&&(o=_f(t,n,i,u)),bf(e),o}function bf(e){U.H=$i;var t=Se!==null&&Se.next!==null;if(an=0,Ve=Se=se=null,al=!1,qi=0,$a=null,t)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Js(e)&&(Ie=!0))}function _f(e,t,n,i){se=e;var u=0;do{if(Ga&&($a=null),qi=0,Ga=!1,25<=u)throw Error(r(301));if(u+=1,Ve=Se=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}U.H=nh,o=t(n,i)}while(Ga);return o}function Dm(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Hi(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(se.flags|=1024),t}function uu(){var e=il!==0;return il=0,e}function ou(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cu(e){if(al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}al=!1}an=0,Ve=Se=se=null,Ga=!1,qi=il=0,$a=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function $e(){if(Se===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ve===null?se.memoizedState:Ve.next;if(t!==null)Ve=t,Se=e;else{if(e===null)throw se.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(e){var t=qi;return qi+=1,$a===null&&($a=[]),e=cf($a,e,t),t=se,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?th:Su),e}function ll(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hi(e);if(e.$$typeof===q)return tt(e)}throw Error(r(438,String(e)))}function fu(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=sl(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=te;return t.index++,n}function sn(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=$e();return hu(t,Se,e)}function hu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=d=null,b=null,x=t,D=!1;do{var z=x.lane&-536870913;if(z!==x.lane?(ce&z)===z:(an&z)===z){var C=x.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),z===za&&(D=!0);else if((an&C)===C){x=x.next,C===za&&(D=!0);continue}else z={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(y=b=z,d=o):b=b.next=z,se.lanes|=C,jn|=C;z=x.action,ra&&n(o,z),o=x.hasEagerState?x.eagerState:n(o,z)}else C={lane:z,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(y=b=C,d=o):b=b.next=C,se.lanes|=z,jn|=z;x=x.next}while(x!==null&&x!==t);if(b===null?d=o:b.next=y,!_t(o,e.memoizedState)&&(Ie=!0,D&&(n=La,n!==null)))throw n;e.memoizedState=o,e.baseState=d,e.baseQueue=b,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function du(e){var t=$e(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);_t(o,t.memoizedState)||(Ie=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function wf(e,t,n){var i=se,u=$e(),o=he;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var d=!_t((Se||u).memoizedState,n);if(d&&(u.memoizedState=n,Ie=!0),u=u.queue,mu(Tf.bind(null,i,u,e),[e]),u.getSnapshot!==t||d||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,Ya(9,{destroy:void 0},Ef.bind(null,i,u,n,t),null),Oe===null)throw Error(r(349));o||(an&127)!==0||Sf(i,t,n)}return n}function Sf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=sl(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ef(e,t,n,i){t.value=n,t.getSnapshot=i,Af(t)&&Of(e)}function Tf(e,t,n){return n(function(){Af(t)&&Of(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Of(e){var t=Pn(e,2);t!==null&&mt(t,e,2)}function gu(e){var t=ot();if(typeof e=="function"){var n=e;if(e=n(),ra){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},t}function Rf(e,t,n,i){return e.baseState=n,hu(e,Se,typeof i=="function"?i:sn)}function km(e,t,n,i,u){if(cl(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};U.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,xf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function xf(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=U.T,d={};U.T=d;try{var y=n(u,i),b=U.S;b!==null&&b(d,y),Cf(e,t,y)}catch(x){vu(e,t,x)}finally{o!==null&&d.types!==null&&(o.types=d.types),U.T=o}}else try{o=n(u,i),Cf(e,t,o)}catch(x){vu(e,t,x)}}function Cf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nf(e,t,i)},function(i){return vu(e,t,i)}):Nf(e,t,n)}function Nf(e,t,n){t.status="fulfilled",t.value=n,jf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xf(e,n)))}function vu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,jf(t),t=t.next;while(t!==i)}e.action=null}function jf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uf(e,t){return t}function Df(e,t){if(he){var n=Oe.formState;if(n!==null){e:{var i=se;if(he){if(Ue){t:{for(var u=Ue,o=Mt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Lt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ue=Lt(u.nextSibling),i=u.data==="F!";break e}}Sn(i)}i=!1}i&&(t=n[0])}}return n=ot(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:t},n.queue=i,n=Pf.bind(null,se,i),i.dispatch=n,i=gu(!1),o=wu.bind(null,se,!1,i.queue),i=ot(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=km.bind(null,se,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function kf(e){var t=$e();return Mf(t,Se,e)}function Mf(e,t,n){if(t=hu(e,t,Uf)[0],e=rl(sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Hi(t)}catch(d){throw d===Ba?Ws:d}else i=t;t=$e();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Ya(9,{destroy:void 0},Mm.bind(null,u,n),null)),[i,o,e]}function Mm(e,t){e.action=t}function zf(e){var t=$e(),n=Se;if(n!==null)return Mf(t,n,e);$e(),t=t.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ya(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=se.updateQueue,t===null&&(t=sl(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Lf(){return $e().memoizedState}function ul(e,t,n,i){var u=ot();se.flags|=e,u.memoizedState=Ya(1|t,{destroy:void 0},n,i===void 0?null:i)}function ol(e,t,n,i){var u=$e();i=i===void 0?null:i;var o=u.memoizedState.inst;Se!==null&&i!==null&&lu(i,Se.memoizedState.deps)?u.memoizedState=Ya(t,o,n,i):(se.flags|=e,u.memoizedState=Ya(1|t,o,n,i))}function Bf(e,t){ul(8390656,8,e,t)}function mu(e,t){ol(2048,8,e,t)}function zm(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=sl(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qf(e){var t=$e().memoizedState;return zm({ref:t,nextImpl:e}),function(){if((ye&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Hf(e,t){return ol(4,2,e,t)}function Gf(e,t){return ol(4,4,e,t)}function $f(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yf(e,t,n){n=n!=null?n.concat([e]):null,ol(4,4,$f.bind(null,t,e),n)}function yu(){}function Kf(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&lu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vf(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&lu(t,i[1]))return i[0];if(i=e(),ra){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i}function pu(e,t,n){return n===void 0||(an&1073741824)!==0&&(ce&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ih(),se.lanes|=e,jn|=e,n)}function If(e,t,n,i){return _t(n,t)?n:Ha.current!==null?(e=pu(e,n,i),_t(e,t)||(Ie=!0),e):(an&42)===0||(an&1073741824)!==0&&(ce&261930)===0?(Ie=!0,e.memoizedState=n):(e=Ih(),se.lanes|=e,jn|=e,t)}function Xf(e,t,n,i,u){var o=G.p;G.p=o!==0&&8>o?o:8;var d=U.T,y={};U.T=y,wu(e,!1,t,n);try{var b=u(),x=U.S;if(x!==null&&x(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=jm(b,i);Gi(e,t,D,Ot(e))}else Gi(e,t,i,Ot(e))}catch(z){Gi(e,t,{then:function(){},status:"rejected",reason:z},Ot())}finally{G.p=o,d!==null&&y.types!==null&&(d.types=y.types),U.T=d}}function Lm(){}function bu(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Jf(e).queue;Xf(e,u,t,ee,n===null?Lm:function(){return Qf(e),n(i)})}function Jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=Jf(e);t.next===null&&(t=e.alternate.memoizedState),Gi(e,t.next.queue,{},Ot())}function _u(){return tt(is)}function Zf(){return $e().memoizedState}function Wf(){return $e().memoizedState}function Bm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=An(n);var i=On(t,e,n);i!==null&&(mt(i,t,n),zi(i,t,n)),t={cache:Qr()},e.payload=t;return}t=t.return}}function qm(e,t,n){var i=Ot();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},cl(e)?Ff(t,n):(n=Br(e,t,n,i),n!==null&&(mt(n,e,i),eh(n,t,i)))}function Pf(e,t,n){var i=Ot();Gi(e,t,n,i)}function Gi(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(cl(e))Ff(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,y=o(d,n);if(u.hasEagerState=!0,u.eagerState=y,_t(y,d))return Ks(e,t,u,0),Oe===null&&Ys(),!1}catch{}finally{}if(n=Br(e,t,u,i),n!==null)return mt(n,e,i),eh(n,t,i),!0}return!1}function wu(e,t,n,i){if(i={lane:2,revertLane:Fu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(t)throw Error(r(479))}else t=Br(e,n,i,2),t!==null&&mt(t,e,2)}function cl(e){var t=e.alternate;return e===se||t!==null&&t===se}function Ff(e,t){Ga=al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eh(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ic(e,n)}}var $i={readContext:tt,use:ll,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};$i.useEffectEvent=ze;var th={readContext:tt,use:ll,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Bf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ul(4194308,4,$f.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var n=ot();t=t===void 0?null:t;var i=e();if(ra){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ot();if(n!==void 0){var u=n(t);if(ra){yn(!0);try{n(t)}finally{yn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=qm.bind(null,se,e),[i.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=gu(e);var t=e.queue,n=Pf.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:yu,useDeferredValue:function(e,t){var n=ot();return pu(n,e,t)},useTransition:function(){var e=gu(!1);return e=Xf.bind(null,se,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=se,u=ot();if(he){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Oe===null)throw Error(r(349));(ce&127)!==0||Sf(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,Bf(Tf.bind(null,i,o,e),[e]),i.flags|=2048,Ya(9,{destroy:void 0},Ef.bind(null,i,o,n,t),null),n},useId:function(){var e=ot(),t=Oe.identifierPrefix;if(he){var n=Xt,i=It;n=(i&~(1<<32-bt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=il++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Um++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:_u,useFormState:Df,useActionState:Df,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wu.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:fu,useCacheRefresh:function(){return ot().memoizedState=Bm.bind(null,se)},useEffectEvent:function(e){var t=ot(),n={impl:e};return t.memoizedState=n,function(){if((ye&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Su={readContext:tt,use:ll,useCallback:Kf,useContext:tt,useEffect:mu,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Gf,useMemo:Vf,useReducer:rl,useRef:Lf,useState:function(){return rl(sn)},useDebugValue:yu,useDeferredValue:function(e,t){var n=$e();return If(n,Se.memoizedState,e,t)},useTransition:function(){var e=rl(sn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:wf,useId:Zf,useHostTransitionStatus:_u,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=$e();return Rf(n,Se,e,t)},useMemoCache:fu,useCacheRefresh:Wf};Su.useEffectEvent=qf;var nh={readContext:tt,use:ll,useCallback:Kf,useContext:tt,useEffect:mu,useImperativeHandle:Yf,useInsertionEffect:Hf,useLayoutEffect:Gf,useMemo:Vf,useReducer:du,useRef:Lf,useState:function(){return du(sn)},useDebugValue:yu,useDeferredValue:function(e,t){var n=$e();return Se===null?pu(n,e,t):If(n,Se.memoizedState,e,t)},useTransition:function(){var e=du(sn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:wf,useId:Zf,useHostTransitionStatus:_u,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=$e();return Se!==null?Rf(n,Se,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fu,useCacheRefresh:Wf};nh.useEffectEvent=qf;function Eu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ot(),u=An(i);u.payload=t,n!=null&&(u.callback=n),t=On(e,u,i),t!==null&&(mt(t,e,i),zi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ot(),u=An(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=On(e,u,i),t!==null&&(mt(t,e,i),zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),i=An(n);i.tag=2,t!=null&&(i.callback=t),t=On(e,i,n),t!==null&&(mt(t,e,n),zi(t,e,n))}};function ah(e,t,n,i,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!xi(n,i)||!xi(u,o):!0}function ih(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function ua(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function sh(e){$s(e)}function lh(e){console.error(e)}function rh(e){$s(e)}function fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function uh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Au(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){fl(e,t)},n}function oh(e){return e=An(e),e.tag=3,e}function ch(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){uh(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){uh(t,n,i),typeof u!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function Hm(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ma(t,n,u,!0),n=St.current,n!==null){switch(n.tag){case 31:case 13:return zt===null?El():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Ps?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Zu(e,i,u)),!1;case 22:return n.flags|=65536,i===Ps?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Zu(e,i,u)),!1}throw Error(r(435,n.tag))}return Zu(e,i,u),El(),!1}if(he)return t=St.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Kr&&(e=Error(r(422),{cause:i}),ji(Ut(e,n)))):(i!==Kr&&(t=Error(r(423),{cause:i}),ji(Ut(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Ut(i,n),u=Au(e.stateNode,i,u),tu(e,u),Le!==4&&(Le=2)),!1;var o=Error(r(520),{cause:i});if(o=Ut(o,n),Zi===null?Zi=[o]:Zi.push(o),Le!==4&&(Le=2),t===null)return!0;i=Ut(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Au(n.stateNode,i,e),tu(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Un===null||!Un.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=oh(u),ch(u,e,n,i),tu(n,u),!1}n=n.return}while(n!==null);return!1}var Ou=Error(r(461)),Ie=!1;function nt(e,t,n,i){t.child=e===null?gf(t,null,n,i):la(t,e.child,n,i)}function fh(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var d={};for(var y in i)y!=="ref"&&(d[y]=i[y])}else d=i;return na(t),i=ru(e,t,n,d,o,u),y=uu(),e!==null&&!Ie?(ou(e,t,u),ln(e,t,u)):(he&&y&&$r(t),t.flags|=1,nt(e,t,i,u),t.child)}function hh(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!qr(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,dh(e,t,o,i,u)):(e=Is(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!ku(e,u)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(d,i)&&e.ref===t.ref)return ln(e,t,u)}return t.flags|=1,e=Ft(o,i),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(xi(o,i)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=i=o,ku(e,u))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,ln(e,t,u)}return Ru(e,t,n,i,u)}function gh(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return vh(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zs(t,o!==null?o.cachePool:null),o!==null?yf(t,o):au(),pf(t);else return i=t.lanes=536870912,vh(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Zs(t,o.cachePool),yf(t,o),xn(),t.memoizedState=null):(e!==null&&Zs(t,null),au(),xn());return nt(e,t,u,n),t.child}function Yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vh(e,t,n,i,u){var o=Wr();return o=o===null?null:{parent:Ke._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Zs(t,null),au(),pf(t),e!==null&&Ma(e,t,i,!0),t.childLanes=u,null}function hl(e,t){return t=gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mh(e,t,n){return la(t,e.child,null,n),e=hl(t,t.pendingProps),e.flags|=2,Et(t),t.memoizedState=null,e}function Gm(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(i.mode==="hidden")return e=hl(t,i),t.lanes=536870912,Yi(null,e);if(su(t),(e=Ue)?(e=xd(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:It,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,et=t,Ue=null)):e=null,e===null)throw Sn(t);return t.lanes=536870912,null}return hl(t,i)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(su(t),u)if(t.flags&256)t.flags&=-257,t=mh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ie||Ma(e,t,n,!1),u=(n&e.childLanes)!==0,Ie||u){if(i=Oe,i!==null&&(d=sc(i,n),d!==0&&d!==o.retryLane))throw o.retryLane=d,Pn(e,d),mt(i,e,d),Ou;El(),t=mh(e,t,n)}else e=o.treeContext,Ue=Lt(d.nextSibling),et=t,he=!0,wn=null,Mt=!1,e!==null&&tf(t,e),t=hl(t,i),t.flags|=4096;return t}return e=Ft(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function dl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ru(e,t,n,i,u){return na(t),n=ru(e,t,n,i,void 0,u),i=uu(),e!==null&&!Ie?(ou(e,t,u),ln(e,t,u)):(he&&i&&$r(t),t.flags|=1,nt(e,t,n,u),t.child)}function yh(e,t,n,i,u,o){return na(t),t.updateQueue=null,n=_f(t,i,n,u),bf(e),i=uu(),e!==null&&!Ie?(ou(e,t,o),ln(e,t,o)):(he&&i&&$r(t),t.flags|=1,nt(e,t,n,o),t.child)}function ph(e,t,n,i,u){if(na(t),t.stateNode===null){var o=ja,d=n.contextType;typeof d=="object"&&d!==null&&(o=tt(d)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Fr(t),d=n.contextType,o.context=typeof d=="object"&&d!==null?tt(d):ja,o.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Eu(t,n,d,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&Tu.enqueueReplaceState(o,o.state,null),Bi(t,i,o,u),Li(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,b=ua(n,y);o.props=b;var x=o.context,D=n.contextType;d=ja,typeof D=="object"&&D!==null&&(d=tt(D));var z=n.getDerivedStateFromProps;D=typeof z=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,D||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||x!==d)&&ih(t,o,i,d),Tn=!1;var C=t.memoizedState;o.state=C,Bi(t,i,o,u),Li(),x=t.memoizedState,y||C!==x||Tn?(typeof z=="function"&&(Eu(t,n,z,i),x=t.memoizedState),(b=Tn||ah(t,n,b,i,C,x,d))?(D||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),o.props=i,o.state=x,o.context=d,i=b):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,eu(e,t),d=t.memoizedProps,D=ua(n,d),o.props=D,z=t.pendingProps,C=o.context,x=n.contextType,b=ja,typeof x=="object"&&x!==null&&(b=tt(x)),y=n.getDerivedStateFromProps,(x=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==z||C!==b)&&ih(t,o,i,b),Tn=!1,C=t.memoizedState,o.state=C,Bi(t,i,o,u),Li();var j=t.memoizedState;d!==z||C!==j||Tn||e!==null&&e.dependencies!==null&&Js(e.dependencies)?(typeof y=="function"&&(Eu(t,n,y,i),j=t.memoizedState),(D=Tn||ah(t,n,D,i,C,j,b)||e!==null&&e.dependencies!==null&&Js(e.dependencies))?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,j,b),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,j,b)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=j),o.props=i,o.state=j,o.context=b,i=D):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,dl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=la(t,e.child,null,u),t.child=la(t,null,n,u)):nt(e,t,n,u),t.memoizedState=o.state,e=t.child):e=ln(e,t,u),e}function bh(e,t,n,i){return ea(),t.flags|=256,nt(e,t,n,i),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:uf()}}function Nu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function _h(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(u?Rn(t):xn(),(e=Ue)?(e=xd(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:It,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},n=Pc(e),n.return=t,t.child=n,et=t,Ue=null)):e=null,e===null)throw Sn(t);return ho(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(xn(),u=t.mode,y=gl({mode:"hidden",children:y},u),i=Fn(i,u,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Cu(n),i.childLanes=Nu(e,d,n),t.memoizedState=xu,Yi(null,i)):(Rn(t),ju(t,y))}var b=e.memoizedState;if(b!==null&&(y=b.dehydrated,y!==null)){if(o)t.flags&256?(Rn(t),t.flags&=-257,t=Uu(e,t,n)):t.memoizedState!==null?(xn(),t.child=e.child,t.flags|=128,t=null):(xn(),y=i.fallback,u=t.mode,i=gl({mode:"visible",children:i.children},u),y=Fn(y,u,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,la(t,e.child,null,n),i=t.child,i.memoizedState=Cu(n),i.childLanes=Nu(e,d,n),t.memoizedState=xu,t=Yi(null,i));else if(Rn(t),ho(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var x=d.dgst;d=x,i=Error(r(419)),i.stack="",i.digest=d,ji({value:i,source:null,stack:null}),t=Uu(e,t,n)}else if(Ie||Ma(e,t,n,!1),d=(n&e.childLanes)!==0,Ie||d){if(d=Oe,d!==null&&(i=sc(d,n),i!==0&&i!==b.retryLane))throw b.retryLane=i,Pn(e,i),mt(d,e,i),Ou;fo(y)||El(),t=Uu(e,t,n)}else fo(y)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ue=Lt(y.nextSibling),et=t,he=!0,wn=null,Mt=!1,e!==null&&tf(t,e),t=ju(t,i.children),t.flags|=4096);return t}return u?(xn(),y=i.fallback,u=t.mode,b=e.child,x=b.sibling,i=Ft(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,x!==null?y=Ft(x,y):(y=Fn(y,u,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Yi(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Cu(n):(u=y.cachePool,u!==null?(b=Ke._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=uf(),y={baseLanes:y.baseLanes|n,cachePool:u}),i.memoizedState=y,i.childLanes=Nu(e,d,n),t.memoizedState=xu,Yi(e.child,i)):(Rn(t),n=e.child,e=n.sibling,n=Ft(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function ju(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function Uu(e,t,n){return la(t,e.child,null,n),e=ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Xr(e.return,t,n)}function Du(e,t,n,i,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=n,d.tailMode=u,d.treeForkCount=o)}function Sh(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var d=Ge.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,$(Ge,d),nt(e,t,i,n),i=he?Ni:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,n,t);else if(e.tag===19)wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&nl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Du(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&nl(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Du(t,!0,n,null,o,i);break;case"together":Du(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ma(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ku(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Js(e)))}function $m(e,t,n){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),En(t,Ke,e.memoizedState.cache),ea();break;case 27:case 5:vi(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,su(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Rn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?_h(e,t,n):(Rn(t),e=ln(e,t,n),e!==null?e.sibling:null);Rn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ma(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return Sh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),$(Ge,Ge.current),i)break;return null;case 22:return t.lanes=0,gh(e,t,n,t.pendingProps);case 24:En(t,Ke,e.memoizedState.cache)}return ln(e,t,n)}function Eh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!ku(e,n)&&(t.flags&128)===0)return Ie=!1,$m(e,t,n);Ie=(e.flags&131072)!==0}else Ie=!1,he&&(t.flags&1048576)!==0&&ef(t,Ni,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")qr(e)?(i=ua(e,i),t.tag=1,t=ph(null,t,e,i,n)):(t.tag=0,t=Ru(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===Z){t.tag=11,t=fh(null,t,e,i,n);break e}else if(u===J){t.tag=14,t=hh(null,t,e,i,n);break e}}throw t=Ye(e)||e,Error(r(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=ua(i,t.pendingProps),ph(e,t,i,u,n);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,eu(e,t),Bi(t,i,null,n);var d=t.memoizedState;if(i=d.cache,En(t,Ke,i),i!==o.cache&&Jr(t,[Ke],n,!0),Li(),i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=bh(e,t,i,n);break e}else if(i!==u){u=Ut(Error(r(424)),t),ji(u),t=bh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Lt(e.firstChild),et=t,he=!0,wn=null,Mt=!0,n=gf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ea(),i===u){t=ln(e,t,n);break e}nt(e,t,i,n)}t=t.child}return t;case 26:return dl(e,t),e===null?(n=kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:he||(n=t.type,e=t.pendingProps,i=Nl(re.current).createElement(n),i[Fe]=t,i[ct]=e,at(i,n,e),We(i),t.stateNode=i):t.memoizedState=kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vi(t),e===null&&he&&(i=t.stateNode=jd(t.type,t.pendingProps,re.current),et=t,Mt=!0,u=Ue,zn(t.type)?(go=u,Ue=Lt(i.firstChild)):Ue=u),nt(e,t,t.pendingProps.children,n),dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((u=i=Ue)&&(i=p0(i,t.type,t.pendingProps,Mt),i!==null?(t.stateNode=i,et=t,Ue=Lt(i.firstChild),Mt=!1,u=!0):u=!1),u||Sn(t)),vi(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,i=o.children,uo(u,o)?i=null:d!==null&&uo(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=ru(e,t,Dm,null,null,n),is._currentValue=u),dl(e,t),nt(e,t,i,n),t.child;case 6:return e===null&&he&&((e=n=Ue)&&(n=b0(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,et=t,Ue=null,e=!0):e=!1),e||Sn(t)),null;case 13:return _h(e,t,n);case 4:return ut(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=la(t,null,i,n):nt(e,t,i,n),t.child;case 11:return fh(e,t,t.type,t.pendingProps,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,En(t,t.type,i.value),nt(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,na(t),u=tt(u),i=i(u),t.flags|=1,nt(e,t,i,n),t.child;case 14:return hh(e,t,t.type,t.pendingProps,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 19:return Sh(e,t,n);case 31:return Gm(e,t,n);case 22:return gh(e,t,n,t.pendingProps);case 24:return na(t),i=tt(Ke),e===null?(u=Wr(),u===null&&(u=Oe,o=Qr(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},Fr(t),En(t,Ke,u)):((e.lanes&n)!==0&&(eu(e,t),Bi(t,null,null,n),Li()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),En(t,Ke,i)):(i=o.cache,En(t,Ke,i),i!==u.cache&&Jr(t,[Ke],n,!0))),nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function rn(e){e.flags|=4}function Mu(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Zh())e.flags|=8192;else throw sa=Ps,Pr}else e.flags&=-16777217}function Th(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qd(t))if(Zh())e.flags|=8192;else throw sa=Ps,Pr}function vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nc():536870912,e.lanes|=t,Xa|=t)}function Ki(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ym(e,t,n){var i=t.pendingProps;switch(Yr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nn(Ke),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vr())),De(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(rn(t),o!==null?(De(t),Th(t,o)):(De(t),Mu(t,u,null,i,n))):o?o!==e.memoizedState?(rn(t),De(t),Th(t,o)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&rn(t),De(t),Mu(t,u,e,i,n)),null;case 27:if(Os(t),n=re.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=V.current,ka(t)?nf(t):(e=jd(u,i,n),t.stateNode=e,rn(t))}return De(t),null;case 5:if(Os(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(o=V.current,ka(t))nf(t);else{var d=Nl(re.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?d.createElement(u,{is:i.is}):d.createElement(u)}}o[Fe]=t,o[ct]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(at(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rn(t)}}return De(t),Mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=re.current,ka(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=et,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_d(e.nodeValue,n)),e||Sn(t,!0)}else e=Nl(e).createTextNode(i),e[Fe]=t,t.stateNode=e}return De(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ka(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Fe]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else n=Vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Et(t),t):(Et(t),null);if((t.flags&128)!==0)throw Error(r(558))}return De(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ka(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Fe]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),u=!1}else u=Vr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Et(t),t):(Et(t),null)}return Et(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),vl(t,t.updateQueue),De(t),null);case 4:return He(),e===null&&ao(t.stateNode.containerInfo),De(t),null;case 10:return nn(t.type),De(t),null;case 19:if(L(Ge),i=t.memoizedState,i===null)return De(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)Ki(i,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=nl(e),o!==null){for(t.flags|=128,Ki(i,!1),e=o.updateQueue,t.updateQueue=e,vl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Wc(n,e),n=n.sibling;return $(Ge,Ge.current&1|2),he&&en(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&yt()>_l&&(t.flags|=128,u=!0,Ki(i,!1),t.lanes=4194304)}else{if(!u)if(e=nl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,vl(t,e),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return De(t),null}else 2*yt()-i.renderingStartTime>_l&&n!==536870912&&(t.flags|=128,u=!0,Ki(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=Ge.current,$(Ge,u?n&1|2:n&1),he&&en(t,i.treeForkCount),e):(De(t),null);case 22:case 23:return Et(t),iu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),n=t.updateQueue,n!==null&&vl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&L(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),nn(Ke),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Km(e,t){switch(Yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Ke),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Os(t),null;case 31:if(t.memoizedState!==null){if(Et(t),t.alternate===null)throw Error(r(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Et(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ge),null;case 4:return He(),null;case 10:return nn(t.type),null;case 22:case 23:return Et(t),iu(),e!==null&&L(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Ke),null;case 25:return null;default:return null}}function Ah(e,t){switch(Yr(t),t.tag){case 3:nn(Ke),He();break;case 26:case 27:case 5:Os(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Et(t);break;case 13:Et(t);break;case 19:L(Ge);break;case 10:nn(t.type);break;case 22:case 23:Et(t),iu(),e!==null&&L(aa);break;case 24:nn(Ke)}}function Vi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,d=n.inst;i=o(),d.destroy=i}n=n.next}while(n!==u)}}catch(y){_e(t,t.return,y)}}function Cn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var d=i.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,u=t;var b=n,x=y;try{x()}catch(D){_e(u,b,D)}}}i=i.next}while(i!==o)}}catch(D){_e(t,t.return,D)}}function Oh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mf(t,n)}catch(i){_e(e,e.return,i)}}}function Rh(e,t,n){n.props=ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){_e(e,t,i)}}function Ii(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){_e(e,t,u)}}function Jt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){_e(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){_e(e,t,u)}else n.current=null}function xh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){_e(e,e.return,u)}}function zu(e,t,n){try{var i=e.stateNode;h0(i,e.type,n,t),i[ct]=t}catch(u){_e(e,e.return,u)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wt));else if(i!==4&&(i===27&&zn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}function ml(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&zn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ml(e,t,n),e=e.sibling;e!==null;)ml(e,t,n),e=e.sibling}function Nh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);at(t,i,n),t[Fe]=e,t[ct]=n}catch(o){_e(e,e.return,o)}}var un=!1,Xe=!1,qu=!1,jh=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Vm(e,t){if(e=e.containerInfo,lo=Ll,e=$c(e),Ur(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,y=-1,b=-1,x=0,D=0,z=e,C=null;t:for(;;){for(var j;z!==n||u!==0&&z.nodeType!==3||(y=d+u),z!==o||i!==0&&z.nodeType!==3||(b=d+i),z.nodeType===3&&(d+=z.nodeValue.length),(j=z.firstChild)!==null;)C=z,z=j;for(;;){if(z===e)break t;if(C===n&&++x===u&&(y=d),C===o&&++D===i&&(b=d),(j=z.nextSibling)!==null)break;z=C,C=z.parentNode}z=j}n=y===-1||b===-1?null:{start:y,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:e,selectionRange:n},Ll=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var K=ua(n.type,u);e=i.getSnapshotBeforeUpdate(K,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(W){_e(n,n.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)co(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":co(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function Uh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n),i&4&&Vi(5,n);break;case 1:if(cn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){_e(n,n.return,d)}else{var u=ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){_e(n,n.return,d)}}i&64&&Oh(n),i&512&&Ii(n,n.return);break;case 3:if(cn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mf(e,t)}catch(d){_e(n,n.return,d)}}break;case 27:t===null&&i&4&&Nh(n);case 26:case 5:cn(e,n),t===null&&i&4&&xh(n),i&512&&Ii(n,n.return);break;case 12:cn(e,n);break;case 31:cn(e,n),i&4&&Mh(e,n);break;case 13:cn(e,n),i&4&&zh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=e0.bind(null,n),_0(e,n))));break;case 22:if(i=n.memoizedState!==null||un,!i){t=t!==null&&t.memoizedState!==null||Xe,u=un;var o=Xe;un=i,(Xe=t)&&!o?fn(e,n,(n.subtreeFlags&8772)!==0):cn(e,n),un=u,Xe=o}break;case 30:break;default:cn(e,n)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,ht=!1;function on(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(mi,n)}catch{}switch(n.tag){case 26:Xe||Jt(n,t),on(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Jt(n,t);var i=ke,u=ht;zn(n.type)&&(ke=n.stateNode,ht=!1),on(e,t,n),ts(n.stateNode),ke=i,ht=u;break;case 5:Xe||Jt(n,t);case 6:if(i=ke,u=ht,ke=null,on(e,t,n),ke=i,ht=u,ke!==null)if(ht)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(o){_e(n,t,o)}else try{ke.removeChild(n.stateNode)}catch(o){_e(n,t,o)}break;case 18:ke!==null&&(ht?(e=ke,Od(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ti(e)):Od(ke,n.stateNode));break;case 4:i=ke,u=ht,ke=n.stateNode.containerInfo,ht=!0,on(e,t,n),ke=i,ht=u;break;case 0:case 11:case 14:case 15:Cn(2,n,t),Xe||Cn(4,n,t),on(e,t,n);break;case 1:Xe||(Jt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Rh(n,t,i)),on(e,t,n);break;case 21:on(e,t,n);break;case 22:Xe=(i=Xe)||n.memoizedState!==null,on(e,t,n),Xe=i;break;default:on(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ti(e)}catch(n){_e(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ti(e)}catch(n){_e(t,t.return,n)}}function Im(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jh),t;default:throw Error(r(435,e.tag))}}function yl(e,t){var n=Im(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=t0.bind(null,e,i);i.then(u,u)}})}function dt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(zn(y.type)){ke=y.stateNode,ht=!1;break e}break;case 5:ke=y.stateNode,ht=!1;break e;case 3:case 4:ke=y.stateNode.containerInfo,ht=!0;break e}y=y.return}if(ke===null)throw Error(r(160));kh(o,d,u),ke=null,ht=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}var Ht=null;function Lh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(t,e),gt(e),i&4&&(Cn(3,e,e.return),Vi(3,e),Cn(5,e,e.return));break;case 1:dt(t,e),gt(e),i&512&&(Xe||n===null||Jt(n,n.return)),i&64&&un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=Ht;if(dt(t,e),gt(e),i&512&&(Xe||n===null||Jt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[bi]||o[Fe]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),at(o,i,n),o[Fe]=e,We(o),i=o;break e;case"link":var d=Ld("link","href",u).get(i+(n.href||""));if(d){for(var y=0;y<d.length;y++)if(o=d[y],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(y,1);break t}}o=u.createElement(i),at(o,i,n),u.head.appendChild(o);break;case"meta":if(d=Ld("meta","content",u).get(i+(n.content||""))){for(y=0;y<d.length;y++)if(o=d[y],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(y,1);break t}}o=u.createElement(i),at(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[Fe]=e,We(o),i=o}e.stateNode=i}else Bd(u,e.type,e.stateNode);else e.stateNode=zd(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Bd(u,e.type,e.stateNode):zd(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&zu(e,e.memoizedProps,n.memoizedProps)}break;case 27:dt(t,e),gt(e),i&512&&(Xe||n===null||Jt(n,n.return)),n!==null&&i&4&&zu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dt(t,e),gt(e),i&512&&(Xe||n===null||Jt(n,n.return)),e.flags&32){u=e.stateNode;try{Ta(u,"")}catch(K){_e(e,e.return,K)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,zu(e,u,n!==null?n.memoizedProps:u)),i&1024&&(qu=!0);break;case 6:if(dt(t,e),gt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(K){_e(e,e.return,K)}}break;case 3:if(Dl=null,u=Ht,Ht=jl(t.containerInfo),dt(t,e),Ht=u,gt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(K){_e(e,e.return,K)}qu&&(qu=!1,Bh(e));break;case 4:i=Ht,Ht=jl(e.stateNode.containerInfo),dt(t,e),gt(e),Ht=i;break;case 12:dt(t,e),gt(e);break;case 31:dt(t,e),gt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,yl(e,i)));break;case 13:dt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bl=yt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,yl(e,i)));break;case 22:u=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,x=un,D=Xe;if(un=x||u,Xe=D||b,dt(t,e),Xe=D,un=x,gt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||b||un||Xe||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(o=b.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=b.stateNode;var z=b.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(K){_e(b,b.return,K)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(K){_e(b,b.return,K)}}}else if(t.tag===18){if(n===null){b=t;try{var j=b.stateNode;u?Rd(j,!0):Rd(b.stateNode,!1)}catch(K){_e(b,b.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,yl(e,n))));break;case 19:dt(t,e),gt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,yl(e,i)));break;case 30:break;case 21:break;default:dt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ch(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=Lu(e);ml(e,o,u);break;case 5:var d=n.stateNode;n.flags&32&&(Ta(d,""),n.flags&=-33);var y=Lu(e);ml(e,y,d);break;case 3:case 4:var b=n.stateNode.containerInfo,x=Lu(e);Bu(e,x,b);break;default:throw Error(r(161))}}catch(D){_e(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uh(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Cn(4,t,t.return),oa(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Rh(t,t.return,n),oa(t);break;case 27:ts(t.stateNode);case 26:case 5:Jt(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:fn(u,o,n),Vi(4,o);break;case 1:if(fn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(x){_e(i,i.return,x)}if(i=o,u=i.updateQueue,u!==null){var y=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)vf(b[u],y)}catch(x){_e(i,i.return,x)}}n&&d&64&&Oh(o),Ii(o,o.return);break;case 27:Nh(o);case 26:case 5:fn(u,o,n),n&&i===null&&d&4&&xh(o),Ii(o,o.return);break;case 12:fn(u,o,n);break;case 31:fn(u,o,n),n&&d&4&&Mh(u,o);break;case 13:fn(u,o,n),n&&d&4&&zh(u,o);break;case 22:o.memoizedState===null&&fn(u,o,n),Ii(o,o.return);break;case 30:break;default:fn(u,o,n)}t=t.sibling}}function Hu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ui(n))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function Gt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qh(e,t,n,i),t=t.sibling}function qh(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,n,i),u&2048&&Vi(9,t);break;case 1:Gt(e,t,n,i);break;case 3:Gt(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(u&2048){Gt(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,y=o.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){_e(t,t.return,b)}}else Gt(e,t,n,i);break;case 31:Gt(e,t,n,i);break;case 13:Gt(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?Gt(e,t,n,i):Xi(e,t):o._visibility&2?Gt(e,t,n,i):(o._visibility|=2,Ka(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Hu(d,t);break;case 24:Gt(e,t,n,i),u&2048&&Gu(t.alternate,t);break;default:Gt(e,t,n,i)}}function Ka(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,y=n,b=i,x=d.flags;switch(d.tag){case 0:case 11:case 15:Ka(o,d,y,b,u),Vi(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?Ka(o,d,y,b,u):Xi(o,d):(D._visibility|=2,Ka(o,d,y,b,u)),u&&x&2048&&Hu(d.alternate,d);break;case 24:Ka(o,d,y,b,u),u&&x&2048&&Gu(d.alternate,d);break;default:Ka(o,d,y,b,u)}t=t.sibling}}function Xi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:Xi(n,i),u&2048&&Hu(i.alternate,i);break;case 24:Xi(n,i),u&2048&&Gu(i.alternate,i);break;default:Xi(n,i)}t=t.sibling}}var Ji=8192;function Va(e,t,n){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)Hh(e,t,n),e=e.sibling}function Hh(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Ji&&e.memoizedState!==null&&U0(n,Ht,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var i=Ht;Ht=jl(e.stateNode.containerInfo),Va(e,t,n),Ht=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ji,Ji=16777216,Va(e,t,n),Ji=i):Va(e,t,n));break;default:Va(e,t,n)}}function Gh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Pe=i,Yh(i,e)}Gh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$h(e),e=e.sibling}function $h(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&Cn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pl(e)):Qi(e);break;default:Qi(e)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Pe=i,Yh(i,e)}Gh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Cn(8,t,t.return),pl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,pl(t));break;default:pl(t)}e=e.sibling}}function Yh(e,t){for(;Pe!==null;){var n=Pe;switch(n.tag){case 0:case 11:case 15:Cn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Pe=i;else e:for(n=e;Pe!==null;){i=Pe;var u=i.sibling,o=i.return;if(Dh(i),i===n){Pe=null;break e}if(u!==null){u.return=o,Pe=u;break e}Pe=o}}}var Xm={getCacheForType:function(e){var t=tt(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return tt(Ke).controller.signal}},Jm=typeof WeakMap=="function"?WeakMap:Map,ye=0,Oe=null,ue=null,ce=0,be=0,Tt=null,Nn=!1,Ia=!1,$u=!1,hn=0,Le=0,jn=0,ca=0,Yu=0,At=0,Xa=0,Zi=null,vt=null,Ku=!1,bl=0,Kh=0,_l=1/0,wl=null,Un=null,Qe=0,Dn=null,Ja=null,dn=0,Vu=0,Iu=null,Vh=null,Wi=0,Xu=null;function Ot(){return(ye&2)!==0&&ce!==0?ce&-ce:U.T!==null?Fu():lc()}function Ih(){if(At===0)if((ce&536870912)===0||he){var e=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),At=e}else At=536870912;return e=St.current,e!==null&&(e.flags|=32),At}function mt(e,t,n){(e===Oe&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),kn(e,ce,At,!1)),pi(e,n),((ye&2)===0||e!==Oe)&&(e===Oe&&((ye&2)===0&&(ca|=n),Le===4&&kn(e,ce,At,!1)),Qt(e))}function Xh(e,t,n){if((ye&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||yi(e,t),u=i?Wm(e,t):Qu(e,t,!0),o=i;do{if(u===0){Ia&&!i&&kn(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Qm(n)){u=Qu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;u=Zi;var b=y.current.memoizedState.isDehydrated;if(b&&(Qa(y,d).flags|=256),d=Qu(y,d,!1),d!==2){if($u&&!b){y.errorRecoveryDisabledLanes|=o,ca|=o,u=4;break e}o=vt,vt=u,o!==null&&(vt===null?vt=o:vt.push.apply(vt,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){Qa(e,0),kn(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:kn(i,t,At,!Nn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=bl+300-yt(),10<u)){if(kn(i,t,At,!Nn),js(i,0,!0)!==0)break e;dn=t,i.timeoutHandle=Td(Jh.bind(null,i,n,vt,wl,Ku,t,At,ca,Xa,Nn,o,"Throttled",-0,0),u);break e}Jh(i,n,vt,wl,Ku,t,At,ca,Xa,Nn,o,null,-0,0)}}break}while(!0);Qt(e)}function Jh(e,t,n,i,u,o,d,y,b,x,D,z,C,j){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Hh(t,o,z);var K=(o&62914560)===o?bl-yt():(o&4194048)===o?Kh-yt():0;if(K=D0(z,K),K!==null){dn=o,e.cancelPendingCommit=K(nd.bind(null,e,t,o,n,i,u,d,y,b,D,z,null,C,j)),kn(e,o,d,!x);return}}nd(e,t,o,n,i,u,d,y,b)}function Qm(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!_t(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t,n,i){t&=~Yu,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-bt(u),d=1<<o;i[o]=-1,u&=~d}n!==0&&ac(e,n,t)}function Sl(){return(ye&6)===0?(Pi(0),!1):!0}function Ju(){if(ue!==null){if(be===0)var e=ue.return;else e=ue,tn=ta=null,cu(e),qa=null,ki=0,e=ue;for(;e!==null;)Ah(e.alternate,e),e=e.return;ue=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,v0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dn=0,Ju(),Oe=e,ue=n=Ft(e.current,null),ce=t,be=0,Tt=null,Nn=!1,Ia=yi(e,t),$u=!1,Xa=At=Yu=ca=jn=Le=0,vt=Zi=null,Ku=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-bt(i),o=1<<u;t|=e[u],i&=~o}return hn=t,Ys(),n}function Qh(e,t){se=null,U.H=$i,t===Ba||t===Ws?(t=ff(),be=3):t===Pr?(t=ff(),be=4):be=t===Ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tt=t,ue===null&&(Le=1,fl(e,Ut(t,e.current)))}function Zh(){var e=St.current;return e===null?!0:(ce&4194048)===ce?zt===null:(ce&62914560)===ce||(ce&536870912)!==0?e===zt:!1}function Wh(){var e=U.H;return U.H=$i,e===null?$i:e}function Ph(){var e=U.A;return U.A=Xm,e}function El(){Le=4,Nn||(ce&4194048)!==ce&&St.current!==null||(Ia=!0),(jn&134217727)===0&&(ca&134217727)===0||Oe===null||kn(Oe,ce,At,!1)}function Qu(e,t,n){var i=ye;ye|=2;var u=Wh(),o=Ph();(Oe!==e||ce!==t)&&(wl=null,Qa(e,t)),t=!1;var d=Le;e:do try{if(be!==0&&ue!==null){var y=ue,b=Tt;switch(be){case 8:Ju(),d=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var x=be;if(be=0,Tt=null,Za(e,y,b,x),n&&Ia){d=0;break e}break;default:x=be,be=0,Tt=null,Za(e,y,b,x)}}Zm(),d=Le;break}catch(D){Qh(e,D)}while(!0);return t&&e.shellSuspendCounter++,tn=ta=null,ye=i,U.H=u,U.A=o,ue===null&&(Oe=null,ce=0,Ys()),d}function Zm(){for(;ue!==null;)Fh(ue)}function Wm(e,t){var n=ye;ye|=2;var i=Wh(),u=Ph();Oe!==e||ce!==t?(wl=null,_l=yt()+500,Qa(e,t)):Ia=yi(e,t);e:do try{if(be!==0&&ue!==null){t=ue;var o=Tt;t:switch(be){case 1:be=0,Tt=null,Za(e,t,o,1);break;case 2:case 9:if(of(o)){be=0,Tt=null,ed(t);break}t=function(){be!==2&&be!==9||Oe!==e||(be=7),Qt(e)},o.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:of(o)?(be=0,Tt=null,ed(t)):(be=0,Tt=null,Za(e,t,o,7));break;case 5:var d=null;switch(ue.tag){case 26:d=ue.memoizedState;case 5:case 27:var y=ue;if(d?qd(d):y.stateNode.complete){be=0,Tt=null;var b=y.sibling;if(b!==null)ue=b;else{var x=y.return;x!==null?(ue=x,Tl(x)):ue=null}break t}}be=0,Tt=null,Za(e,t,o,5);break;case 6:be=0,Tt=null,Za(e,t,o,6);break;case 8:Ju(),Le=6;break e;default:throw Error(r(462))}}Pm();break}catch(D){Qh(e,D)}while(!0);return tn=ta=null,U.H=i,U.A=u,ye=n,ue!==null?0:(Oe=null,ce=0,Ys(),Le)}function Pm(){for(;ue!==null&&!wv();)Fh(ue)}function Fh(e){var t=Eh(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?Tl(e):ue=t}function ed(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=yh(n,t,t.pendingProps,t.type,void 0,ce);break;case 11:t=yh(n,t,t.pendingProps,t.type.render,t.ref,ce);break;case 5:cu(t);default:Ah(n,t),t=ue=Wc(t,hn),t=Eh(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?Tl(e):ue=t}function Za(e,t,n,i){tn=ta=null,cu(t),qa=null,ki=0;var u=t.return;try{if(Hm(e,u,t,n,ce)){Le=1,fl(e,Ut(n,e.current)),ue=null;return}}catch(o){if(u!==null)throw ue=u,o;Le=1,fl(e,Ut(n,e.current)),ue=null;return}t.flags&32768?(he||i===1?e=!0:Ia||(ce&536870912)!==0?e=!1:(Nn=e=!0,(i===2||i===9||i===3||i===6)&&(i=St.current,i!==null&&i.tag===13&&(i.flags|=16384))),td(t,e)):Tl(t)}function Tl(e){var t=e;do{if((t.flags&32768)!==0){td(t,Nn);return}e=t.return;var n=Ym(t.alternate,t,hn);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Le===0&&(Le=5)}function td(e,t){do{var n=Km(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);Le=6,ue=null}function nd(e,t,n,i,u,o,d,y,b){e.cancelPendingCommit=null;do Al();while(Qe!==0);if((ye&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Lr,jv(e,n,o,d,y,b),e===Oe&&(ue=Oe=null,ce=0),Ja=t,Dn=e,dn=n,Vu=o,Iu=u,Vh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n0(Rs,function(){return rd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=U.T,U.T=null,u=G.p,G.p=2,d=ye,ye|=4;try{Vm(e,t,n)}finally{ye=d,G.p=u,U.T=i}}Qe=1,ad(),id(),sd()}}function ad(){if(Qe===1){Qe=0;var e=Dn,t=Ja,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var i=G.p;G.p=2;var u=ye;ye|=4;try{Lh(t,e);var o=ro,d=$c(e.containerInfo),y=o.focusedElem,b=o.selectionRange;if(d!==y&&y&&y.ownerDocument&&Gc(y.ownerDocument.documentElement,y)){if(b!==null&&Ur(y)){var x=b.start,D=b.end;if(D===void 0&&(D=x),"selectionStart"in y)y.selectionStart=x,y.selectionEnd=Math.min(D,y.value.length);else{var z=y.ownerDocument||document,C=z&&z.defaultView||window;if(C.getSelection){var j=C.getSelection(),K=y.textContent.length,W=Math.min(b.start,K),Te=b.end===void 0?W:Math.min(b.end,K);!j.extend&&W>Te&&(d=Te,Te=W,W=d);var A=Hc(y,W),_=Hc(y,Te);if(A&&_&&(j.rangeCount!==1||j.anchorNode!==A.node||j.anchorOffset!==A.offset||j.focusNode!==_.node||j.focusOffset!==_.offset)){var R=z.createRange();R.setStart(A.node,A.offset),j.removeAllRanges(),W>Te?(j.addRange(R),j.extend(_.node,_.offset)):(R.setEnd(_.node,_.offset),j.addRange(R))}}}}for(z=[],j=y;j=j.parentNode;)j.nodeType===1&&z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<z.length;y++){var k=z[y];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Ll=!!lo,ro=lo=null}finally{ye=u,G.p=i,U.T=n}}e.current=t,Qe=2}}function id(){if(Qe===2){Qe=0;var e=Dn,t=Ja,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var i=G.p;G.p=2;var u=ye;ye|=4;try{Uh(e,t.alternate,t)}finally{ye=u,G.p=i,U.T=n}}Qe=3}}function sd(){if(Qe===4||Qe===3){Qe=0,Sv();var e=Dn,t=Ja,n=dn,i=Vh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,Ja=Dn=null,ld(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Un=null),dr(n),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=U.T,u=G.p,G.p=2,U.T=null;try{for(var o=e.onRecoverableError,d=0;d<i.length;d++){var y=i[d];o(y.value,{componentStack:y.stack})}}finally{U.T=t,G.p=u}}(dn&3)!==0&&Al(),Qt(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Xu?Wi++:(Wi=0,Xu=e):Wi=0,Pi(0)}}function ld(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function Al(){return ad(),id(),sd(),rd()}function rd(){if(Qe!==5)return!1;var e=Dn,t=Vu;Vu=0;var n=dr(dn),i=U.T,u=G.p;try{G.p=32>n?32:n,U.T=null,n=Iu,Iu=null;var o=Dn,d=dn;if(Qe=0,Ja=Dn=null,dn=0,(ye&6)!==0)throw Error(r(331));var y=ye;if(ye|=4,$h(o.current),qh(o,o.current,d,n),ye=y,Pi(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(mi,o)}catch{}return!0}finally{G.p=u,U.T=i,ld(e,t)}}function ud(e,t,n){t=Ut(n,t),t=Au(e.stateNode,t,2),e=On(e,t,2),e!==null&&(pi(e,2),Qt(e))}function _e(e,t,n){if(e.tag===3)ud(e,e,n);else for(;t!==null;){if(t.tag===3){ud(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Un===null||!Un.has(i))){e=Ut(n,e),n=oh(2),i=On(t,n,2),i!==null&&(ch(n,i,t,e),pi(i,2),Qt(i));break}}t=t.return}}function Zu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Jm;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||($u=!0,u.add(n),e=Fm.bind(null,e,t,n),t.then(e,e))}function Fm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Oe===e&&(ce&n)===n&&(Le===4||Le===3&&(ce&62914560)===ce&&300>yt()-bl?(ye&2)===0&&Qa(e,0):Yu|=n,Xa===ce&&(Xa=0)),Qt(e)}function od(e,t){t===0&&(t=nc()),e=Pn(e,t),e!==null&&(pi(e,t),Qt(e))}function e0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),od(e,n)}function t0(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),od(e,n)}function n0(e,t){return or(e,t)}var Ol=null,Wa=null,Wu=!1,Rl=!1,Pu=!1,Mn=0;function Qt(e){e!==Wa&&e.next===null&&(Wa===null?Ol=Wa=e:Wa=Wa.next=e),Rl=!0,Wu||(Wu=!0,i0())}function Pi(e,t){if(!Pu&&Rl){Pu=!0;do for(var n=!1,i=Ol;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var d=i.suspendedLanes,y=i.pingedLanes;o=(1<<31-bt(42|e)+1)-1,o&=u&~(d&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,dd(i,o))}else o=ce,o=js(i,i===Oe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||yi(i,o)||(n=!0,dd(i,o));i=i.next}while(n);Pu=!1}}function a0(){cd()}function cd(){Rl=Wu=!1;var e=0;Mn!==0&&g0()&&(e=Mn);for(var t=yt(),n=null,i=Ol;i!==null;){var u=i.next,o=fd(i,t);o===0?(i.next=null,n===null?Ol=u:n.next=u,u===null&&(Wa=n)):(n=i,(e!==0||(o&3)!==0)&&(Rl=!0)),i=u}Qe!==0&&Qe!==5||Pi(e),Mn!==0&&(Mn=0)}function fd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-bt(o),y=1<<d,b=u[d];b===-1?((y&n)===0||(y&i)!==0)&&(u[d]=Nv(y,t)):b<=t&&(e.expiredLanes|=y),o&=~y}if(t=Oe,n=ce,n=js(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&cr(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||yi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&cr(i),dr(n)){case 2:case 8:n=ec;break;case 32:n=Rs;break;case 268435456:n=tc;break;default:n=Rs}return i=hd.bind(null,e),n=or(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&cr(i),e.callbackPriority=2,e.callbackNode=null,2}function hd(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var i=ce;return i=js(e,e===Oe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xh(e,i,t),fd(e,yt()),e.callbackNode!=null&&e.callbackNode===n?hd.bind(null,e):null)}function dd(e,t){if(Al())return null;Xh(e,t,!0)}function i0(){m0(function(){(ye&6)!==0?or(Fo,a0):cd()})}function Fu(){if(Mn===0){var e=za;e===0&&(e=xs,xs<<=1,(xs&261888)===0&&(xs=256)),Mn=e}return Mn}function gd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function s0(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=gd((u[ct]||null).action),d=i.submitter;d&&(t=(t=d[ct]||null)?gd(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var y=new qs("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Mn!==0){var b=d?vd(u,d):new FormData(u);bu(n,{pending:!0,data:b,method:u.method,action:o},null,b)}}else typeof o=="function"&&(y.preventDefault(),b=d?vd(u,d):new FormData(u),bu(n,{pending:!0,data:b,method:u.method,action:o},o,b))},currentTarget:u}]})}}for(var eo=0;eo<zr.length;eo++){var to=zr[eo],l0=to.toLowerCase(),r0=to[0].toUpperCase()+to.slice(1);qt(l0,"on"+r0)}qt(Vc,"onAnimationEnd"),qt(Ic,"onAnimationIteration"),qt(Xc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Em,"onTransitionRun"),qt(Tm,"onTransitionStart"),qt(Am,"onTransitionCancel"),qt(Jc,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fi));function md(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var y=i[d],b=y.instance,x=y.currentTarget;if(y=y.listener,b!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=x;try{o(u)}catch(D){$s(D)}u.currentTarget=null,o=b}else for(d=0;d<i.length;d++){if(y=i[d],b=y.instance,x=y.currentTarget,y=y.listener,b!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=x;try{o(u)}catch(D){$s(D)}u.currentTarget=null,o=b}}}}function oe(e,t){var n=t[gr];n===void 0&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(yd(t,e,2,!1),n.add(i))}function no(e,t,n){var i=0;t&&(i|=4),yd(n,e,i,t)}var xl="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[xl]){e[xl]=!0,oc.forEach(function(n){n!=="selectionchange"&&(u0.has(n)||no(n,!1,e),no(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xl]||(t[xl]=!0,no("selectionchange",!1,t))}}function yd(e,t,n,i){switch(Id(t)){case 2:var u=z0;break;case 8:u=L0;break;default:u=bo}n=u.bind(null,t,n,e),u=void 0,!Er||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function io(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var y=i.stateNode.containerInfo;if(y===u)break;if(d===4)for(d=i.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;y!==null;){if(d=ba(y),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){i=o=d;continue e}y=y.parentNode}}i=i.return}wc(function(){var x=o,D=wr(n),z=[];e:{var C=Qc.get(e);if(C!==void 0){var j=qs,K=e;switch(e){case"keypress":if(Ls(n)===0)break e;case"keydown":case"keyup":j=tm;break;case"focusin":K="focus",j=Rr;break;case"focusout":K="blur",j=Rr;break;case"beforeblur":case"afterblur":j=Rr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=im;break;case Vc:case Ic:case Xc:j=Iv;break;case Jc:j=lm;break;case"scroll":case"scrollend":j=Gv;break;case"wheel":j=um;break;case"copy":case"cut":case"paste":j=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oc;break;case"toggle":case"beforetoggle":j=cm}var W=(t&4)!==0,Te=!W&&(e==="scroll"||e==="scrollend"),A=W?C!==null?C+"Capture":null:C;W=[];for(var _=x,R;_!==null;){var k=_;if(R=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||R===null||A===null||(k=wi(_,A),k!=null&&W.push(es(_,k,R))),Te)break;_=_.return}0<W.length&&(C=new j(C,K,null,n,D),z.push({event:C,listeners:W}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",C&&n!==_r&&(K=n.relatedTarget||n.fromElement)&&(ba(K)||K[pa]))break e;if((j||C)&&(C=D.window===D?D:(C=D.ownerDocument)?C.defaultView||C.parentWindow:window,j?(K=n.relatedTarget||n.toElement,j=x,K=K?ba(K):null,K!==null&&(Te=f(K),W=K.tag,K!==Te||W!==5&&W!==27&&W!==6)&&(K=null)):(j=null,K=x),j!==K)){if(W=Tc,k="onMouseLeave",A="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(W=Oc,k="onPointerLeave",A="onPointerEnter",_="pointer"),Te=j==null?C:_i(j),R=K==null?C:_i(K),C=new W(k,_+"leave",j,n,D),C.target=Te,C.relatedTarget=R,k=null,ba(D)===x&&(W=new W(A,_+"enter",K,n,D),W.target=R,W.relatedTarget=Te,k=W),Te=k,j&&K)t:{for(W=o0,A=j,_=K,R=0,k=A;k;k=W(k))R++;k=0;for(var Q=_;Q;Q=W(Q))k++;for(;0<R-k;)A=W(A),R--;for(;0<k-R;)_=W(_),k--;for(;R--;){if(A===_||_!==null&&A===_.alternate){W=A;break t}A=W(A),_=W(_)}W=null}else W=null;j!==null&&pd(z,C,j,W,!1),K!==null&&Te!==null&&pd(z,Te,K,W,!0)}}e:{if(C=x?_i(x):window,j=C.nodeName&&C.nodeName.toLowerCase(),j==="select"||j==="input"&&C.type==="file")var ge=kc;else if(Uc(C))if(Mc)ge=_m;else{ge=pm;var I=ym}else j=C.nodeName,!j||j.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?x&&br(x.elementType)&&(ge=kc):ge=bm;if(ge&&(ge=ge(e,x))){Dc(z,ge,n,D);break e}I&&I(e,C,x),e==="focusout"&&x&&C.type==="number"&&x.memoizedProps.value!=null&&pr(C,"number",C.value)}switch(I=x?_i(x):window,e){case"focusin":(Uc(I)||I.contentEditable==="true")&&(xa=I,Dr=x,Ci=null);break;case"focusout":Ci=Dr=xa=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Yc(z,n,D);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":Yc(z,n,D)}var le;if(Cr)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ra?Nc(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Rc&&n.locale!=="ko"&&(Ra||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ra&&(le=Sc()):(bn=D,Tr="value"in bn?bn.value:bn.textContent,Ra=!0)),I=Cl(x,fe),0<I.length&&(fe=new Ac(fe,e,null,n,D),z.push({event:fe,listeners:I}),le?fe.data=le:(le=jc(n),le!==null&&(fe.data=le)))),(le=hm?dm(e,n):gm(e,n))&&(fe=Cl(x,"onBeforeInput"),0<fe.length&&(I=new Ac("onBeforeInput","beforeinput",null,n,D),z.push({event:I,listeners:fe}),I.data=le)),s0(z,e,x,n,D)}md(z,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cl(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=wi(e,n),u!=null&&i.unshift(es(e,u,o)),u=wi(e,t),u!=null&&i.push(es(e,u,o))),e.tag===3)return i;e=e.return}return[]}function o0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pd(e,t,n,i,u){for(var o=t._reactName,d=[];n!==null&&n!==i;){var y=n,b=y.alternate,x=y.stateNode;if(y=y.tag,b!==null&&b===i)break;y!==5&&y!==26&&y!==27||x===null||(b=x,u?(x=wi(n,o),x!=null&&d.unshift(es(n,x,b))):u||(x=wi(n,o),x!=null&&d.push(es(n,x,b)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var c0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(f0,"")}function _d(e,t){return t=bd(t),bd(e)===t}function Ee(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ta(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ta(e,""+i);break;case"className":Ds(e,"class",i);break;case"tabIndex":Ds(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ds(e,n,i);break;case"style":bc(e,i,o);break;case"data":if(t!=="object"){Ds(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ms(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ee(e,t,"name",u.name,u,null),Ee(e,t,"formEncType",u.formEncType,u,null),Ee(e,t,"formMethod",u.formMethod,u,null),Ee(e,t,"formTarget",u.formTarget,u,null)):(Ee(e,t,"encType",u.encType,u,null),Ee(e,t,"method",u.method,u,null),Ee(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ms(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Wt);break;case"onScroll":i!=null&&oe("scroll",e);break;case"onScrollEnd":i!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ms(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":oe("beforetoggle",e),oe("toggle",e),Us(e,"popover",i);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Us(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qv.get(n)||n,Us(e,n,i))}}function so(e,t,n,i,u,o){switch(n){case"style":bc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ta(e,i):(typeof i=="number"||typeof i=="bigint")&&Ta(e,""+i);break;case"onScroll":i!=null&&oe("scroll",e);break;case"onScrollEnd":i!=null&&oe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[ct]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Us(e,n,i)}}}function at(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(d!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,o,d,n,null)}}u&&Ee(e,t,"srcSet",n.srcSet,n,null),i&&Ee(e,t,"src",n.src,n,null);return;case"input":oe("invalid",e);var y=o=d=u=null,b=null,x=null;for(i in n)if(n.hasOwnProperty(i)){var D=n[i];if(D!=null)switch(i){case"name":u=D;break;case"type":d=D;break;case"checked":b=D;break;case"defaultChecked":x=D;break;case"value":o=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Ee(e,t,i,D,n,null)}}vc(e,o,y,b,x,d,u,!1);return;case"select":oe("invalid",e),i=d=o=null;for(u in n)if(n.hasOwnProperty(u)&&(y=n[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":d=y;break;case"multiple":i=y;default:Ee(e,t,u,y,n,null)}t=o,n=d,e.multiple=!!i,t!=null?Ea(e,!!i,t,!1):n!=null&&Ea(e,!!i,n,!0);return;case"textarea":oe("invalid",e),o=u=i=null;for(d in n)if(n.hasOwnProperty(d)&&(y=n[d],y!=null))switch(d){case"value":i=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ee(e,t,d,y,n,null)}yc(e,i,u,o);return;case"option":for(b in n)if(n.hasOwnProperty(b)&&(i=n[b],i!=null))switch(b){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ee(e,t,b,i,n,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(i=0;i<Fi.length;i++)oe(Fi[i],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(i=n[x],i!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ee(e,t,x,i,n,null)}return;default:if(br(t)){for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!==void 0&&so(e,t,D,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Ee(e,t,y,i,n,null))}function h0(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,y=null,b=null,x=null,D=null;for(j in n){var z=n[j];if(n.hasOwnProperty(j)&&z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=z;default:i.hasOwnProperty(j)||Ee(e,t,j,null,i,z)}}for(var C in i){var j=i[C];if(z=n[C],i.hasOwnProperty(C)&&(j!=null||z!=null))switch(C){case"type":o=j;break;case"name":u=j;break;case"checked":x=j;break;case"defaultChecked":D=j;break;case"value":d=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:j!==z&&Ee(e,t,C,j,i,z)}}yr(e,d,y,b,x,D,o,u);return;case"select":j=d=y=C=null;for(o in n)if(b=n[o],n.hasOwnProperty(o)&&b!=null)switch(o){case"value":break;case"multiple":j=b;default:i.hasOwnProperty(o)||Ee(e,t,o,null,i,b)}for(u in i)if(o=i[u],b=n[u],i.hasOwnProperty(u)&&(o!=null||b!=null))switch(u){case"value":C=o;break;case"defaultValue":y=o;break;case"multiple":d=o;default:o!==b&&Ee(e,t,u,o,i,b)}t=y,n=d,i=j,C!=null?Ea(e,!!n,C,!1):!!i!=!!n&&(t!=null?Ea(e,!!n,t,!0):Ea(e,!!n,n?[]:"",!1));return;case"textarea":j=C=null;for(y in n)if(u=n[y],n.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ee(e,t,y,null,i,u)}for(d in i)if(u=i[d],o=n[d],i.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":C=u;break;case"defaultValue":j=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Ee(e,t,d,u,i,o)}mc(e,C,j);return;case"option":for(var K in n)if(C=n[K],n.hasOwnProperty(K)&&C!=null&&!i.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:Ee(e,t,K,null,i,C)}for(b in i)if(C=i[b],j=n[b],i.hasOwnProperty(b)&&C!==j&&(C!=null||j!=null))switch(b){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ee(e,t,b,C,i,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in n)C=n[W],n.hasOwnProperty(W)&&C!=null&&!i.hasOwnProperty(W)&&Ee(e,t,W,null,i,C);for(x in i)if(C=i[x],j=n[x],i.hasOwnProperty(x)&&C!==j&&(C!=null||j!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Ee(e,t,x,C,i,j)}return;default:if(br(t)){for(var Te in n)C=n[Te],n.hasOwnProperty(Te)&&C!==void 0&&!i.hasOwnProperty(Te)&&so(e,t,Te,void 0,i,C);for(D in i)C=i[D],j=n[D],!i.hasOwnProperty(D)||C===j||C===void 0&&j===void 0||so(e,t,D,C,i,j);return}}for(var A in n)C=n[A],n.hasOwnProperty(A)&&C!=null&&!i.hasOwnProperty(A)&&Ee(e,t,A,null,i,C);for(z in i)C=i[z],j=n[z],!i.hasOwnProperty(z)||C===j||C==null&&j==null||Ee(e,t,z,C,i,j)}function wd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,d=u.initiatorType,y=u.duration;if(o&&y&&wd(d)){for(d=0,y=u.responseEnd,i+=1;i<n.length;i++){var b=n[i],x=b.startTime;if(x>y)break;var D=b.transferSize,z=b.initiatorType;D&&wd(z)&&(b=b.responseEnd,d+=D*(b<y?1:(y-x)/(b-x)))}if(--i,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lo=null,ro=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function Sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=null;function g0(){var e=window.event;return e&&e.type==="popstate"?e===oo?!1:(oo=e,!0):(oo=null,!1)}var Td=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(y0)}:Td;function y0(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function Od(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),ti(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ts(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ts(n);for(var o=n.firstChild;o;){var d=o.nextSibling,y=o.nodeName;o[bi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=d}}else n==="body"&&ts(e.ownerDocument.body);n=u}while(n);ti(t)}function Rd(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function co(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":co(n),vr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function p0(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[bi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function b0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function xd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function fo(e){return e.data==="$?"||e.data==="$~"}function ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var go=null;function Cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Lt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=Nl(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vr(e)}var Bt=new Map,Ud=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=G.d;G.d={f:w0,r:S0,D:E0,C:T0,L:A0,m:O0,X:x0,S:R0,M:C0};function w0(){var e=gn.f(),t=Sl();return e||t}function S0(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):gn.r(e)}var Pa=typeof document>"u"?null:document;function Dd(e,t,n){var i=Pa;if(i&&typeof t=="string"&&t){var u=Nt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Ud.has(u)||(Ud.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),at(t,"link",e),We(t),i.head.appendChild(t)))}}function E0(e){gn.D(e),Dd("dns-prefetch",e,null)}function T0(e,t){gn.C(e,t),Dd("preconnect",e,t)}function A0(e,t,n){gn.L(e,t,n);var i=Pa;if(i&&e&&t){var u='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Nt(n.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var o=u;switch(t){case"style":o=Fa(e);break;case"script":o=ei(e)}Bt.has(o)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Bt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(ns(o))||t==="script"&&i.querySelector(as(o))||(t=i.createElement("link"),at(t,"link",e),We(t),i.head.appendChild(t)))}}function O0(e,t){gn.m(e,t);var n=Pa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Nt(i)+'"][href="'+Nt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ei(e)}if(!Bt.has(o)&&(e=T({rel:"modulepreload",href:e},t),Bt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(as(o)))return}i=n.createElement("link"),at(i,"link",e),We(i),n.head.appendChild(i)}}}function R0(e,t,n){gn.S(e,t,n);var i=Pa;if(i&&e){var u=wa(i).hoistableStyles,o=Fa(e);t=t||"default";var d=u.get(o);if(!d){var y={loading:0,preload:null};if(d=i.querySelector(ns(o)))y.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bt.get(o))&&vo(e,n);var b=d=i.createElement("link");We(b),at(b,"link",e),b._p=new Promise(function(x,D){b.onload=x,b.onerror=D}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ul(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:y},u.set(o,d)}}}function x0(e,t){gn.X(e,t);var n=Pa;if(n&&e){var i=wa(n).hoistableScripts,u=ei(e),o=i.get(u);o||(o=n.querySelector(as(u)),o||(e=T({src:e,async:!0},t),(t=Bt.get(u))&&mo(e,t),o=n.createElement("script"),We(o),at(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function C0(e,t){gn.M(e,t);var n=Pa;if(n&&e){var i=wa(n).hoistableScripts,u=ei(e),o=i.get(u);o||(o=n.querySelector(as(u)),o||(e=T({src:e,async:!0,type:"module"},t),(t=Bt.get(u))&&mo(e,t),o=n.createElement("script"),We(o),at(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function kd(e,t,n,i){var u=(u=re.current)?jl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=wa(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var o=wa(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(ns(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Bt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bt.set(e,n),o||N0(u,e,n,d.state))),t&&i===null)throw Error(r(528,""));return d}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ei(n),n=wa(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+Nt(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function Md(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),at(t,"link",n),We(t),e.head.appendChild(t))}function ei(e){return'[src="'+Nt(e)+'"]'}function as(e){return"script[async]"+e}function zd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Nt(n.href)+'"]');if(i)return t.instance=i,We(i),i;var u=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),We(i),at(i,"style",u),Ul(i,n.precedence,e),t.instance=i;case"stylesheet":u=Fa(n.href);var o=e.querySelector(ns(u));if(o)return t.state.loading|=4,t.instance=o,We(o),o;i=Md(n),(u=Bt.get(u))&&vo(i,u),o=(e.ownerDocument||e).createElement("link"),We(o);var d=o;return d._p=new Promise(function(y,b){d.onload=y,d.onerror=b}),at(o,"link",i),t.state.loading|=4,Ul(o,n.precedence,e),t.instance=o;case"script":return o=ei(n.src),(u=e.querySelector(as(o)))?(t.instance=u,We(u),u):(i=n,(u=Bt.get(o))&&(i=T({},n),mo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),at(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ul(i,n.precedence,e));return t.instance}function Ul(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,d=0;d<i.length;d++){var y=i[d];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Dl=null;function Ld(e,t,n){if(Dl===null){var i=new Map,u=Dl=new Map;u.set(n,i)}else u=Dl,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[bi]||o[Fe]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var y=i.get(d);y?y.push(o):i.set(d,[o])}}return i}function Bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function j0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function U0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Fa(i.href),o=t.querySelector(ns(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=kl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,We(o);return}o=t.ownerDocument||t,i=Md(i),(u=Bt.get(u))&&vo(i,u),o=o.createElement("link"),We(o);var d=o;d._p=new Promise(function(y,b){d.onload=y,d.onerror=b}),at(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=kl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var yo=0;function D0(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&yo===0&&(yo=62500*d0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>yo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,t.forEach(k0,e),Ml=null,kl.call(e))}function k0(e,t){if(!(t.state.loading&4)){var n=Ml.get(e);if(n)var i=n.get(null);else{n=new Map,Ml.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}u=t.instance,d=u.getAttribute("data-precedence"),o=n.get(d)||i,o===i&&n.set(null,u),n.set(d,u),this.count++,i=kl.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var is={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function M0(e,t,n,i,u,o,d,y,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Hd(e,t,n,i,u,o,d,y,b,x,D,z){return e=new M0(e,t,n,d,b,x,D,z,y),t=1,o===!0&&(t|=24),o=wt(3,null,null,t),e.current=o,o.stateNode=e,t=Qr(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Fr(o),e}function Gd(e){return e?(e=ja,e):ja}function $d(e,t,n,i,u,o){u=Gd(u),i.context===null?i.context=u:i.pendingContext=u,i=An(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=On(e,i,t),n!==null&&(mt(n,e,t),zi(n,e,t))}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function po(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function Kd(e){if(e.tag===13||e.tag===31){var t=Pn(e,67108864);t!==null&&mt(t,e,67108864),po(e,67108864)}}function Vd(e){if(e.tag===13||e.tag===31){var t=Ot();t=hr(t);var n=Pn(e,t);n!==null&&mt(n,e,t),po(e,t)}}var Ll=!0;function z0(e,t,n,i){var u=U.T;U.T=null;var o=G.p;try{G.p=2,bo(e,t,n,i)}finally{G.p=o,U.T=u}}function L0(e,t,n,i){var u=U.T;U.T=null;var o=G.p;try{G.p=8,bo(e,t,n,i)}finally{G.p=o,U.T=u}}function bo(e,t,n,i){if(Ll){var u=_o(i);if(u===null)io(e,t,i,Bl,n),Xd(e,i);else if(q0(u,e,t,n,i))i.stopPropagation();else if(Xd(e,i),t&4&&-1<B0.indexOf(e)){for(;u!==null;){var o=_a(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=Xn(o.pendingLanes);if(d!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var b=1<<31-bt(d);y.entanglements[1]|=b,d&=~b}Qt(o),(ye&6)===0&&(_l=yt()+500,Pi(0))}}break;case 31:case 13:y=Pn(o,2),y!==null&&mt(y,o,2),Sl(),po(o,2)}if(o=_o(i),o===null&&io(e,t,i,Bl,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else io(e,t,i,null,n)}}function _o(e){return e=wr(e),wo(e)}var Bl=null;function wo(e){if(Bl=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bl=e,null}function Id(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ev()){case Fo:return 2;case ec:return 8;case Rs:case Tv:return 32;case tc:return 268435456;default:return 32}default:return 32}}var So=!1,Ln=null,Bn=null,qn=null,ss=new Map,ls=new Map,Hn=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function rs(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&Kd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function q0(e,t,n,i,u){switch(t){case"focusin":return Ln=rs(Ln,e,t,n,i,u),!0;case"dragenter":return Bn=rs(Bn,e,t,n,i,u),!0;case"mouseover":return qn=rs(qn,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return ss.set(o,rs(ss.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,ls.set(o,rs(ls.get(o)||null,e,t,n,i,u)),!0}return!1}function Jd(e){var t=ba(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,rc(e.priority,function(){Vd(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,rc(e.priority,function(){Vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_o(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);_r=i,n.target.dispatchEvent(i),_r=null}else return t=_a(n),t!==null&&Kd(t),e.blockedOn=n,!1;t.shift()}return!0}function Qd(e,t,n){ql(e)&&n.delete(t)}function H0(){So=!1,Ln!==null&&ql(Ln)&&(Ln=null),Bn!==null&&ql(Bn)&&(Bn=null),qn!==null&&ql(qn)&&(qn=null),ss.forEach(Qd),ls.forEach(Qd)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,H0)))}var Gl=null;function Zd(e){Gl!==e&&(Gl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(wo(i||n)===null)continue;break}var o=_a(n);o!==null&&(e.splice(t,3),t-=3,bu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function ti(e){function t(b){return Hl(b,e)}Ln!==null&&Hl(Ln,e),Bn!==null&&Hl(Bn,e),qn!==null&&Hl(qn,e),ss.forEach(t),ls.forEach(t);for(var n=0;n<Hn.length;n++){var i=Hn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Jd(n),n.blockedOn===null&&Hn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],d=u[ct]||null;if(typeof o=="function")d||Zd(n);else if(d){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[ct]||null)y=d.formAction;else if(wo(u)!==null)continue}else y=d.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),Zd(n)}}}function Wd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Eo(e){this._internalRoot=e}$l.prototype.render=Eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Ot();$d(n,i,e,t,null,null)},$l.prototype.unmount=Eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$d(e.current,2,null,e,null,null),Sl(),t[pa]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Jd(e)}};var Pd=a.version;if(Pd!=="19.2.4")throw Error(r(527,Pd,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var G0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{mi=Yl.inject(G0),pt=Yl}catch{}}return os.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=sh,o=lh,d=rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Hd(e,1,!1,null,null,n,i,null,u,o,d,Wd),e[pa]=t.current,ao(e),new Eo(t)},os.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=sh,d=lh,y=rh,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=Hd(e,1,!0,t,n??null,i,u,b,o,d,y,Wd),t.context=Gd(null),n=t.current,i=Ot(),i=hr(i),u=An(i),u.callback=null,On(n,u,i),n=i,t.current.lanes=n,pi(t,n),Qt(t),e[pa]=t.current,ao(e),new $l(t)},os.version="19.2.4",os}var ug;function F0(){if(ug)return Oo.exports;ug=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Oo.exports=P0(),Oo.exports}var ey=F0();function tr(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function ty(s,a,l,r){function c(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function g(p){try{v(r.next(p))}catch(T){h(T)}}function m(p){try{v(r.throw(p))}catch(T){h(T)}}function v(p){p.done?f(p.value):c(p.value).then(g,m)}v((r=r.apply(s,a||[])).next())})}const ny=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Jo extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class ay extends Jo{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class og extends Jo{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class cg extends Jo{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Lo;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Lo||(Lo={}));class iy{constructor(a,{headers:l={},customFetch:r,region:c=Lo.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=ny(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ty(this,arguments,void 0,function*(l,r={}){var c;let f,h;try{const{headers:g,method:m,body:v,signal:p,timeout:T}=r;let w={},{region:E}=r;E||(E=this.region);const N=new URL(`${this.url}/${l}`);E&&E!=="any"&&(w["x-region"]=E,N.searchParams.set("forceFunctionRegion",E));let M;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",M=v):typeof v=="string"?(w["Content-Type"]="text/plain",M=v):typeof FormData<"u"&&v instanceof FormData?M=v:(w["Content-Type"]="application/json",M=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?M=JSON.stringify(v):M=v;let B=p;T&&(h=new AbortController,f=setTimeout(()=>h.abort(),T),p?(B=h.signal,p.addEventListener("abort",()=>h.abort())):B=h.signal);const H=yield this.fetch(N.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:M,signal:B}).catch(me=>{throw new ay(me)}),Y=H.headers.get("x-relay-error");if(Y&&Y==="true")throw new og(H);if(!H.ok)throw new cg(H);let q=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return q==="application/json"?Z=yield H.json():q==="application/octet-stream"||q==="application/pdf"?Z=yield H.blob():q==="text/event-stream"?Z=H:q==="multipart/form-data"?Z=yield H.formData():Z=yield H.text(),{data:Z,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof cg||g instanceof og?g.context:void 0}}finally{f&&clearTimeout(f)}})}}var sy=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},ly=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,g=null,m=null,v=f.status,p=f.statusText;if(f.ok){var T,w;if(l.method!=="HEAD"){var E;const H=await f.text();H===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((E=l.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?g=H:g=JSON.parse(H))}const M=(T=l.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),B=(w=f.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");M&&B&&B.length>1&&(m=parseInt(B[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,p="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var N;const M=await f.text();try{h=JSON.parse(M),Array.isArray(h)&&f.status===404&&(g=[],h=null,v=200,p="OK")}catch{f.status===404&&M===""?(v=204,p="No Content"):h={message:M}}if(h&&l.isMaybeSingle&&(!(h==null||(N=h.details)===null||N===void 0)&&N.includes("0 rows"))&&(h=null,v=200,p="OK"),h&&l.shouldThrowOnError)throw new sy(h)}return{error:h,data:g,count:m,status:v,statusText:p}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let g="",m="",v="";const p=f==null?void 0:f.cause;if(p){var T,w,E,N;const H=(T=p==null?void 0:p.message)!==null&&T!==void 0?T:"",Y=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";g=`${(E=f==null?void 0:f.name)!==null&&E!==void 0?E:"FetchError"}: ${f==null?void 0:f.message}`,g+=`

Caused by: ${(N=p==null?void 0:p.name)!==null&&N!==void 0?N:"Error"}: ${H}`,Y&&(g+=` (${Y})`),p!=null&&p.stack&&(g+=`
${p.stack}`)}else{var M;g=(M=f==null?void 0:f.stack)!==null&&M!==void 0?M:""}const B=this.url.toString().length;return(f==null?void 0:f.name)==="AbortError"||(f==null?void 0:f.code)==="ABORT_ERR"?(v="",m="Request was aborted (timeout or manual cancellation)",B>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${B} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",m="HTTP headers exceeded server limits (typically 16KB)",B>this.urlLengthLimit&&(m+=`. Your request URL is ${B} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:g,hint:m,code:v},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},ry=class extends ly{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(f,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:f="text"}={}){var h;const g=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${m}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const fg=new RegExp("[,()]");var oi=class extends ry{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&fg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&fg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},uy=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",h),r&&m.append("Prefer",`count=${r}`),new oi({method:c,url:g,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),l||h.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);f.searchParams.set("columns",m.join(","))}}return new oi({method:c,url:f,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var f;const h="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),r&&m.append("Prefer",`count=${r}`),c||m.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((p,T)=>p.concat(Object.keys(T)),[]);if(v.length>0){const p=[...new Set(v)].map(T=>`"${T}"`);g.searchParams.set("columns",p.join(","))}}return new oi({method:h,url:g,headers:m,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:f}=this.cloneRequestState();return a&&f.append("Prefer",`count=${a}`),new oi({method:r,url:c,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new oi({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function vs(s){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vs(s)}function oy(s,a){if(vs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function cy(s){var a=oy(s,"string");return vs(a)=="symbol"?a:a+""}function fy(s,a,l){return(a=cy(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function hg(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Kl(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?hg(Object(l),!0).forEach(function(r){fy(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):hg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var hy=class Pg{constructor(a,{headers:l={},schema:r,fetch:c,timeout:f,urlLengthLimit:h=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=h;const g=c??globalThis.fetch;f!==void 0&&f>0?this.fetch=(m,v)=>{const p=new AbortController,T=setTimeout(()=>p.abort(),f),w=v==null?void 0:v.signal;if(w){if(w.aborted)return clearTimeout(T),g(m,v);const E=()=>{clearTimeout(T),p.abort()};return w.addEventListener("abort",E,{once:!0}),g(m,Kl(Kl({},v),{},{signal:p.signal})).finally(()=>{clearTimeout(T),w.removeEventListener("abort",E)})}return g(m,Kl(Kl({},v),{},{signal:p.signal})).finally(()=>clearTimeout(T))}:this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new uy(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Pg(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:f}={}){var h;let g;const m=new URL(`${this.url}/rpc/${a}`);let v;const p=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(p)),T=r&&Object.values(l).some(p);T?(g="POST",v=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([E,N])=>N!==void 0).map(([E,N])=>[E,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([E,N])=>{m.searchParams.append(E,N)})):(g="POST",v=l);const w=new Headers(this.headers);return T?w.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&w.set("Prefer",`count=${f}`),new oi({method:g,url:m,headers:w,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class dy{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const gy="2.95.3",vy=`realtime-js/${gy}`,my="1.0.0",Fg="2.0.0",dg=Fg,Bo=1e4,yy=1e3,py=100;var $n;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})($n||($n={}));var Ze;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ze||(Ze={}));var Kt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Kt||(Kt={}));var qo;(function(s){s.websocket="websocket"})(qo||(qo={}));var ga;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ga||(ga={}));class by{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,l,r){var c,f;const h=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",m=(f=a.join_ref)!==null&&f!==void 0?f:"",v=a.payload.event,p=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},T=Object.keys(p).length===0?"":JSON.stringify(p);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+h.length+v.length+T.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let N=new DataView(E),M=0;N.setUint8(M++,this.KINDS.userBroadcastPush),N.setUint8(M++,m.length),N.setUint8(M++,g.length),N.setUint8(M++,h.length),N.setUint8(M++,v.length),N.setUint8(M++,T.length),N.setUint8(M++,l),Array.from(m,H=>N.setUint8(M++,H.charCodeAt(0))),Array.from(g,H=>N.setUint8(M++,H.charCodeAt(0))),Array.from(h,H=>N.setUint8(M++,H.charCodeAt(0))),Array.from(v,H=>N.setUint8(M++,H.charCodeAt(0))),Array.from(T,H=>N.setUint8(M++,H.charCodeAt(0)));var B=new Uint8Array(E.byteLength+r.byteLength);return B.set(new Uint8Array(E),0),B.set(new Uint8Array(r),E.byteLength),B.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,f,h,g,m]=r;return l({join_ref:c,ref:f,topic:h,event:g,payload:m})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,l,c)}}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),f=l.getUint8(2),h=l.getUint8(3),g=l.getUint8(4);let m=this.HEADER_LENGTH+4;const v=r.decode(a.slice(m,m+c));m=m+c;const p=r.decode(a.slice(m,m+f));m=m+f;const T=r.decode(a.slice(m,m+h));m=m+h;const w=a.slice(m,a.byteLength),E=g===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,N={type:this.BROADCAST_EVENT,event:p,payload:E};return h>0&&(N.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a==null?void 0:a.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class ev{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const gg=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((f,h)=>(f[h]=_y(h,s,a,c),f),{}):{}},_y=(s,a,l,r)=>{const c=a.find(g=>g.name===s),f=c==null?void 0:c.type,h=l[s];return f&&!r.includes(f)?tv(f,h):Ho(h)},tv=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return Ty(a,l)}switch(s){case Ce.bool:return wy(a);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Sy(a);case Ce.json:case Ce.jsonb:return Ey(a);case Ce.timestamp:return Ay(a);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Ho(a);default:return Ho(a)}},Ho=s=>s,wy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Sy=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},Ey=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Ty=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let f;const h=s.slice(1,l);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(g=>tv(a,g))}return s},Ay=s=>typeof s=="string"?s.replace(" ","T"):s,nv=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class No{constructor(a,l,r={},c=Bo){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var vg;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(vg||(vg={}));class hs{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,c,f,h),this.pendingDiffs.forEach(m=>{this.state=hs.syncDiff(this.state,m,f,h)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=hs.syncDiff(this.state,c,f,h),g())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const f=this.cloneDeep(a),h=this.transformState(l),g={},m={};return this.map(f,(v,p)=>{h[v]||(m[v]=p)}),this.map(h,(v,p)=>{const T=f[v];if(T){const w=p.map(B=>B.presence_ref),E=T.map(B=>B.presence_ref),N=p.filter(B=>E.indexOf(B.presence_ref)<0),M=T.filter(B=>w.indexOf(B.presence_ref)<0);N.length>0&&(g[v]=N),M.length>0&&(m[v]=M)}else g[v]=p}),this.syncDiff(f,{joins:g,leaves:m},r,c)}static syncDiff(a,l,r,c){const{joins:f,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(g,m)=>{var v;const p=(v=a[g])!==null&&v!==void 0?v:[];if(a[g]=this.cloneDeep(m),p.length>0){const T=a[g].map(E=>E.presence_ref),w=p.filter(E=>T.indexOf(E.presence_ref)<0);a[g].unshift(...w)}r(g,p,m)}),this.map(h,(g,m)=>{let v=a[g];if(!v)return;const p=m.map(T=>T.presence_ref);v=v.filter(T=>p.indexOf(T.presence_ref)<0),a[g]=v,c(g,v,m),v.length===0&&delete a[g]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mg;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(mg||(mg={}));var ds;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ds||(ds={}));var vn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class hi{constructor(a,l={config:{}},r){var c,f;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new No(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new hs(this),this.broadcastEndpointURL=nv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:h,presence:g,private:m}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,T={},w={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:p}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(E=>a==null?void 0:a(vn.CHANNEL_ERROR,E)),this._onClose(()=>a==null?void 0:a(vn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},T)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){a==null||a(vn.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,B=(N=M==null?void 0:M.length)!==null&&N!==void 0?N:0,H=[];for(let Y=0;Y<B;Y++){const q=M[Y],{filter:{event:Z,schema:me,table:ae,filter:J}}=q,Ne=E&&E[Y];if(Ne&&Ne.event===Z&&hi.isFilterValueEqual(Ne.schema,me)&&hi.isFilterValueEqual(Ne.table,ae)&&hi.isFilterValueEqual(Ne.filter,J))H.push(Object.assign(Object.assign({},q),{id:Ne.id}));else{this.unsubscribe(),this.state=Ze.errored,a==null||a(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(vn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Ze.errored,a==null||a(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===Ze.joined&&a===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const v=await g.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,g,m;const v=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ze.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new No(this,Kt.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(f),h}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new No(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>py){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,f;const h=a.toLocaleLowerCase(),{close:g,error:m,leave:v,join:p}=Kt;if(r&&[g,m,v,p].indexOf(h)>=0&&r!==this._joinRef())return;let w=this._onMessage(h,l,r);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var N,M,B;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((B=(M=E.filter)===null||M===void 0?void 0:M.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===h}).map(E=>E.callback(w,r)):(f=this.bindings[h])===null||f===void 0||f.filter(E=>{var N,M,B,H,Y,q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const Z=E.id,me=(N=E.filter)===null||N===void 0?void 0:N.event;return Z&&((M=l.ids)===null||M===void 0?void 0:M.includes(Z))&&(me==="*"||(me==null?void 0:me.toLocaleLowerCase())===((B=l.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const Z=(Y=(H=E==null?void 0:E.filter)===null||H===void 0?void 0:H.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return Z==="*"||Z===((q=l==null?void 0:l.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:M,table:B,commit_timestamp:H,type:Y,errors:q}=N;w=Object.assign(Object.assign({},{schema:M,table:B,commit_timestamp:H,eventType:Y,new:{},old:{},errors:q}),this._getPayloadRecords(N))}E.callback(w,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),f={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&hi.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Kt.close,{},a)}_onError(a){this._on(Kt.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=gg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=gg(a.columns,a.old_record)),l}}const jo=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Oy=[1e3,2e3,5e3,1e4],Ry=1e4,xy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cy{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bo,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.vsn=dg,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new by,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${qo.websocket}`,this.httpEndpoint=nv(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dy.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return l==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return ga.Connecting;case $n.open:return ga.Open;case $n.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new hi(`realtime:${a}`,l,this);return this.channels.push(f),f}}push(a){const{topic:l,event:r,payload:c,ref:f}=a,h=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${l} ${r} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(yy,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",v)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:f,ref:h}=l,g=h?`(${h})`:"",m=f.status||"";this.log("receive",`${m} ${r} ${c} ${g}`.trim(),f),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,f,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===$n.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$n.open||this.conn.readyState===$n.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Kt.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([xy],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const f={access_token:l,version:vy};l&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Kt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,f,h,g,m,v,p,T,w,E;switch(this.transport=(l=a==null?void 0:a.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a==null?void 0:a.timeout)!==null&&r!==void 0?r:Bo,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:Vl.HEARTBEAT_INTERVAL,this.worker=(f=a==null?void 0:a.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=a==null?void 0:a.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a==null?void 0:a.heartbeatCallback)!==null&&g!==void 0?g:jo,this.vsn=(m=a==null?void 0:a.vsn)!==null&&m!==void 0?m:dg,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(N=>Oy[N-1]||Ry),this.vsn){case my:this.encode=(p=a==null?void 0:a.encode)!==null&&p!==void 0?p:((N,M)=>M(JSON.stringify(N))),this.decode=(T=a==null?void 0:a.decode)!==null&&T!==void 0?T:((N,M)=>M(JSON.parse(N)));break;case Fg:this.encode=(w=a==null?void 0:a.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(E=a==null?void 0:a.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var ms=class extends Error{constructor(s,a){var l;super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((l=a.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ny(s,a,l){const r=new URL(a,s);if(l)for(const[c,f]of Object.entries(l))f!==void 0&&r.searchParams.set(c,f);return r.toString()}async function jy(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Uy(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:f,headers:h}){const g=Ny(s.baseUrl,r,c),m=await jy(s.auth),v=await a(g,{method:l,headers:{...f?{"Content-Type":"application/json"}:{},...m,...h},body:f?JSON.stringify(f):void 0}),p=await v.text(),T=(v.headers.get("content-type")||"").includes("application/json"),w=T&&p?JSON.parse(p):p;if(!v.ok){const E=T?w:void 0,N=E==null?void 0:E.error;throw new ms((N==null?void 0:N.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:E})}return{status:v.status,headers:v.headers,data:w}}}}function Il(s){return s.join("")}var Dy=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Il(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Il(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Il(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Il(s.namespace)}`}),!0}catch(a){if(a instanceof ms&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof ms&&l.status===409)return;throw l}}};function ni(s){return s.join("")}var ky=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof ms&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof ms&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},My=class{constructor(s){var r;let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Uy({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(r=s.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Dy(this.client,a),this.tableOps=new ky(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},nr=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function ar(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Xl=class extends nr{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},av=class extends nr{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const zy=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Ly=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Go=s=>{if(Array.isArray(s))return s.map(l=>Go(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[c]=Go(r)}),a},By=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ys(s){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ys(s)}function qy(s,a){if(ys(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Hy(s){var a=qy(s,"string");return ys(a)=="symbol"?a:a+""}function Gy(s,a,l){return(a=Hy(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function yg(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function F(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?yg(Object(l),!0).forEach(function(r){Gy(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):yg(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const pg=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},$y=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(l!=null&&l.noResolveJson)){const c=s,f=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||f+"";a(new Xl(pg(h),f,g,r))}).catch(()=>{if(r==="vectors"){const h=f+"";a(new Xl(c.statusText||`HTTP ${f} error`,f,h,r))}else{const h=f+"";a(new Xl(c.statusText||`HTTP ${f} error`,f,h,r))}});else{const h=f+"";a(new Xl(c.statusText||`HTTP ${f} error`,f,h,r))}}else a(new av(pg(s),s,r))},Yy=(s,a,l,r)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"||s==="HEAD"||!r?F(F({},c),l):(Ly(r)?(c.headers=F({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(r)):c.body=r,a!=null&&a.duplex&&(c.duplex=a.duplex),F(F({},c),l))};async function cs(s,a,l,r,c,f,h){return new Promise((g,m)=>{s(l,Yy(a,r,c,f)).then(v=>{if(!v.ok)throw v;if(r!=null&&r.noResolveJson)return v;if(h==="vectors"){const p=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!p||!p.includes("application/json"))return{}}return v.json()}).then(v=>g(v)).catch(v=>$y(v,m,r,h))})}function iv(s="storage"){return{get:async(a,l,r,c)=>cs(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,f)=>cs(a,"POST",l,c,f,r,s),put:async(a,l,r,c,f)=>cs(a,"PUT",l,c,f,r,s),head:async(a,l,r,c)=>cs(a,"HEAD",l,F(F({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,f)=>cs(a,"DELETE",l,c,f,r,s)}}const Ky=iv("storage"),{get:ps,post:Yt,put:$o,head:Vy,remove:Qo}=Ky,xt=iv("vectors");var gi=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=zy(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ar(l))return{data:null,error:l};throw l}}},Iy=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}};let sv;sv=Symbol.toStringTag;var Xy=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[sv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Iy(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}};const Jy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qy=class extends gi{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let f;const h=F(F({},bg),r);let g=F(F({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),m&&f.append("metadata",c.encodeMetadata(m)),f.append("",l)):typeof FormData<"u"&&l instanceof FormData?(f=l,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),m&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(m))):(f=l,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),r!=null&&r.headers&&(g=F(F({},g),r.headers));const v=c._removeEmptyFolders(a),p=c._getFinalPath(v),T=await(s=="PUT"?$o:Yt)(c.fetch,`${c.url}/object/${p}`,f,F({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:v,id:T.Id,fullPath:T.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const f=c._removeEmptyFolders(s),h=c._getFinalPath(f),g=new URL(c.url+`/object/upload/sign/${h}`);return g.searchParams.set("token",a),c.handleOperation(async()=>{let m;const v=F({upsert:bg.upsert},r),p=F(F({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",v.cacheControl)):(m=l,p["cache-control"]=`max-age=${v.cacheControl}`,p["content-type"]=v.contentType),{path:f,fullPath:(await $o(c.fetch,g.toString(),m,{headers:p})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=F({},l.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const f=await Yt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(l.url+f.url),g=h.searchParams.get("token");if(!g)throw new nr("No token returned by API");return{signedUrl:h.toString(),path:s,token:g}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await Yt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await Yt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),f=await Yt(r.fetch,`${r.url}/object/sign/${c}`,F({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${h}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await Yt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(h=>F(F({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${f}`):null}))})}download(s,a,l){const r=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),f=c?`?${c}`:"",h=this._getFinalPath(s),g=()=>ps(this.fetch,`${this.url}/${r}/${h}${f}`,{headers:this.headers,noResolveJson:!0},l);return new Xy(g,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Go(await ps(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await Vy(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(ar(r)&&r instanceof av){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const f=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});h!==""&&r.push(h);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${l}${g}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=F(F(F({},Jy),a),{},{prefix:s||""});return await Yt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=F({},s);return await Yt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Zy="2.95.3",Ts={"X-Client-Info":`storage-js/${Zy}`};var Wy=class extends gi{constructor(s,a={},l,r){const c=new URL(s);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),h=F(F({},Ts),a);super(f,h,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await ps(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await ps(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await Yt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await $o(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Py=class extends gi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},Ts),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Yt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&l.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&l.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&l.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&l.set("sortOrder",s.sortOrder),s!=null&&s.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await ps(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qo(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!By(s))throw new nr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new My({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}},Fy=class extends gi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},Ts),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await xt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await xt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},ep=class extends gi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},Ts),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},tp=class extends gi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=F(F({},Ts),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await xt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},np=class extends tp{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new ap(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},ap=class extends Fy{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new ip(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},ip=class extends ep{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,F(F({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},sp=class extends Wy{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new Qy(this.url,this.headers,s,this.fetch)}get vectors(){return new np(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Py(this.url+"/iceberg",this.headers,this.fetch)}};const lv="2.95.3",ci=30*1e3,Yo=3,Uo=Yo*ci,lp="http://localhost:9999",rp="supabase.auth.token",up={"X-Client-Info":`gotrue-js/${lv}`},Ko="X-Supabase-Api-Version",rv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},op=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cp=600*1e3;class bs extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function X(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class fp extends bs{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function hp(s){return X(s)&&s.name==="AuthApiError"}class va extends bs{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class mn extends bs{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class Rt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Do(s){return X(s)&&s.name==="AuthSessionMissingError"}class ai extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends mn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ql extends mn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dp(s){return X(s)&&s.name==="AuthImplicitGrantRedirectError"}class _g extends mn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gp extends mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vo extends mn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function ko(s){return X(s)&&s.name==="AuthRetryableFetchError"}class wg extends mn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Io extends mn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sg=` 	
\r=`.split(""),vp=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Sg.length;a+=1)s[Sg[a].charCodeAt(0)]=-2;for(let a=0;a<Pl.length;a+=1)s[Pl[a].charCodeAt(0)]=a;return s})();function Eg(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Pl[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Pl[r]),a.queuedBits-=6}}function uv(s,a,l){const r=vp[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Tg(s){const a=[],l=h=>{a.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{pp(h,r,l)};for(let h=0;h<s.length;h+=1)uv(s.charCodeAt(h),c,f);return a.join("")}function mp(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function yp(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}mp(r,a)}}function pp(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function di(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)uv(s.charCodeAt(c),l,r);return new Uint8Array(a)}function bp(s){const a=[];return yp(s,l=>a.push(l)),new Uint8Array(a)}function ma(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>Eg(c,l,r)),Eg(null,l,r),a.join("")}function _p(s){return Math.round(Date.now()/1e3)+s}function wp(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},ov=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function Sp(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,f)=>{a[f]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const cv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Ep=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",fi=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},ha=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},it=async(s,a)=>{await s.removeItem(a)};class ir{constructor(){this.promise=new ir.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}ir.promiseConstructor=Promise;function Zl(s){const a=s.split(".");if(a.length!==3)throw new Io("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!op.test(a[r]))throw new Io("JWT not in base64url format");return{header:JSON.parse(Tg(a[0])),payload:JSON.parse(Tg(a[1])),signature:di(a[2]),raw:{header:a[0],payload:a[1]}}}async function Tp(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function Ap(s,a){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await s(f);if(!a(f,null,h)){r(h);return}}catch(h){if(!a(f,h)){c(h);return}}})()})}function Op(s){return("0"+s.toString(16)).substr(-2)}function Rp(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let f=0;f<56;f++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,Op).join("")}async function xp(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Cp(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await xp(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(s,a,l=!1){const r=Rp();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await fi(s,`${a}-code-verifier`,c);const f=await Cp(r);return[f,r===f?"plain":"s256"]}const Np=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jp(s){const a=s.headers.get(Ko);if(!a||!a.match(Np))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Up(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function Dp(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(s){if(!kp.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mo(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mp(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function Ag(s){return JSON.parse(JSON.stringify(s))}const da=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),zp=[502,503,504];async function Og(s){var a;if(!Ep(s))throw new Vo(da(s),0);if(zp.includes(s.status))throw new Vo(da(s),s.status);let l;try{l=await s.json()}catch(f){throw new va(da(f),f)}let r;const c=jp(s);if(c&&c.getTime()>=rv["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new wg(da(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new wg(da(l),s.status,l.weak_password.reasons);throw new fp(da(l),s.status||500,r)}const Lp=(s,a,l,r)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function P(s,a,l,r){var c;const f=Object.assign({},r==null?void 0:r.headers);f[Ko]||(f[Ko]=rv["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Bp(s,a,l+g,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function Bp(s,a,l,r,c,f){const h=Lp(a,r,c,f);let g;try{g=await s(l,Object.assign({},h))}catch(m){throw console.error(m),new Vo(da(m),0)}if(g.ok||await Og(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(m){await Og(m)}}function $t(s){var a;let l=null;Gp(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=_p(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function Rg(s){const a=$t(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Kn(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function qp(s){return{data:s,error:null}}function Hp(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f}=s,h=tr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:f},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function xg(s){return s}function Gp(s){return s.access_token&&s.refresh_token&&s.expires_in}const zo=["global","local","others"];class $p{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=cv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=zo[0]){if(zo.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zo.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Kn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=tr(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Hp,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(X(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Kn})}catch(l){if(X(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,f,h,g,m;try{const v={nextPage:null,lastPage:0,total:0},p=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:xg});if(p.error)throw p.error;const T=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(N=>{const M=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);v[`${B}Page`]=M}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(X(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){si(a);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Kn})}catch(l){if(X(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){si(a);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Kn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){si(a);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Kn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){si(a.userId);try{const{data:l,error:r}=await P(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(X(l))return{data:null,error:l};throw l}}async _deleteFactor(a){si(a.userId),si(a.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(X(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,f,h,g,m;try{const v={nextPage:null,lastPage:0,total:0},p=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:xg});if(p.error)throw p.error;const T=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(N=>{const M=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);v[`${B}Page`]=M}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(X(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(X(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(X(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(X(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(X(l))return{data:null,error:l};throw l}}}function Cg(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const li={debug:!!(globalThis&&ov()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fv extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Yp extends fv{}async function Kp(s,a,l){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Yp(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(li.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function Vp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hv(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Ip(s){return parseInt(s,16)}function Xp(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function Jp(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:g,requestId:m,resources:v,scheme:p,uri:T,version:w}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const E=hv(s.address),N=p?`${p}://${r}`:r,M=s.statement?`${s.statement}
`:"",B=`${N} wants you to sign in with your Ethereum account:
${E}

${M}`;let H=`URI: ${T}
Version: ${w}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),m&&(H+=`
Request ID: ${m}`),v){let Y=`
Resources:`;for(const q of v){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);Y+=`
- ${q}`}H+=Y}return`${B}
${H}`}class Je extends Error{constructor({message:a,code:l,cause:r,name:c}){var f;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=c??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=l}}class Fl extends Je{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function Qp({error:s,options:a}){var l,r,c;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=f.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(dv(h)){if(f.rp.id!==h)return new Je({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Zp({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(dv(r)){if(l.rpId!==r)return new Je({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Wp{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Pp=new Wp;function Fp(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=tr(s,["challenge","user","excludeCredentials"]),f=di(a).buffer,h=Object.assign(Object.assign({},l),{id:di(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:f,user:h});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const v=r[m];g.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:di(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function eb(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=tr(s,["challenge","allowCredentials"]),c=di(a).buffer,f=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){f.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const g=l[h];f.allowCredentials[h]=Object.assign(Object.assign({},g),{id:di(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function tb(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function nb(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ma(new Uint8Array(c.authenticatorData)),clientDataJSON:ma(new Uint8Array(c.clientDataJSON)),signature:ma(new Uint8Array(c.signature)),userHandle:c.userHandle?ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function dv(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Ng(){var s,a;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function ab(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",a)}:{data:null,error:new Fl("Empty credential response",a)}}catch(a){return{data:null,error:Qp({error:a,options:s})}}}async function ib(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",a)}:{data:null,error:new Fl("Empty credential response",a)}}catch(a){return{data:null,error:Zp({error:a,options:s})}}}const sb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function er(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))r[f]=h;else if(l(h))r[f]=h;else if(a(h)){const g=r[f];a(g)?r[f]=er(g,h):r[f]=er(h)}else r[f]=h}return r}function rb(s,a){return er(sb,s,a||{})}function ub(s,a){return er(lb,s,a||{})}class ob{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},f){var h;try{const{data:g,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!g)return{data:null,error:m};const v=c??Pp.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:p}=g.webauthn.credential_options.publicKey;if(!p.name){const T=r;if(T)p.name=`${p.id}:${T}`;else{const E=(await this.client.getUser()).data.user,N=((h=E==null?void 0:E.user_metadata)===null||h===void 0?void 0:h.name)||(E==null?void 0:E.email)||(E==null?void 0:E.id)||"User";p.name=`${p.id}:${N}`}}p.displayName||(p.displayName=p.name)}switch(g.webauthn.type){case"create":{const p=rb(g.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:T,error:w}=await ab({publicKey:p,signal:v});return T?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:T}},error:null}:{data:null,error:w}}case"request":{const p=ub(g.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:T,error:w}=await ib(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:p,signal:v}));return T?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:T}},error:null}:{data:null,error:w}}}}catch(g){return X(g)?{data:null,error:g}:{data:null,error:new va("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!Ng())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:f});if(!h)return{data:null,error:g};const{webauthn:m}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:m.type,rpId:l,rpOrigins:r,credential_response:m.credential_response}})}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new va("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!l)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!Ng())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(p=>{var T;return(T=p.data)===null||T===void 0?void 0:T.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:g};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:f});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:l,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new va("Unexpected error in register",h)}}}}Vp();const cb={url:lp,storageKey:rp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:up,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jg(s,a,l){return await l()}const ri={};class _s{get jwks(){var a,l;return(l=(a=ri[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=ri[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},cb),a);if(this.storageKey=f.storageKey,this.instanceID=(l=_s.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,_s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new $p({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=cv(f.fetch),this.lock=f.lock||jg,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&st()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kp:this.lock=jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ob(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:ov()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Cg(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lv}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(st()&&(l=Sp(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),st()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(l,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),dp(f)){const m=(a=f.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return X(l)?this._returnResult({error:l}):this._returnResult({error:new va("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const f=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a==null?void 0:a.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:$t}),{data:h,error:g}=f;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(f){if(X(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var l,r,c;try{let f;if("email"in a){const{email:p,password:T,options:w}=a;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await ii(this.storage,this.storageKey)),f=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:T,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:E,code_challenge_method:N},xform:$t})}else if("phone"in a){const{phone:p,password:T,options:w}=a;f=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:T,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:$t})}else throw new Jl("You must provide either an email or phone number and a password");const{data:h,error:g}=f;if(g||!h)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let l;if("email"in a){const{email:f,password:h,options:g}=a;l=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Rg})}else if("phone"in a){const{phone:f,password:h,options:g}=a;l=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Rg})}else throw new Jl("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const f=new ai;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,f,h,g,m,v,p,T,w;let E,N;if("message"in a)E=a.message,N=a.signature;else{const{chain:M,wallet:B,statement:H,options:Y}=a;let q;if(st())if(typeof B=="object")q=B;else{const Me=window;if("ethereum"in Me&&typeof Me.ethereum=="object"&&"request"in Me.ethereum&&typeof Me.ethereum.request=="function")q=Me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=B}const Z=new URL((l=Y==null?void 0:Y.url)!==null&&l!==void 0?l:window.location.href),me=await q.request({method:"eth_requestAccounts"}).then(Me=>Me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!me||me.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=hv(me[0]);let J=(r=Y==null?void 0:Y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!J){const Me=await q.request({method:"eth_chainId"});J=Ip(Me)}const Ne={domain:Z.host,address:ae,statement:H,uri:Z.href,version:"1",chainId:J,nonce:(c=Y==null?void 0:Y.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=Y==null?void 0:Y.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=Y==null?void 0:Y.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=Y==null?void 0:Y.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=Y==null?void 0:Y.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.resources};E=Jp(Ne),N=await q.request({method:"personal_sign",params:[Xp(E),ae]})}try{const{data:M,error:B}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:N},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:$t});if(B)throw B;if(!M||!M.session||!M.user){const H=new ai;return this._returnResult({data:{user:null,session:null},error:H})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:B})}catch(M){if(X(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async signInWithSolana(a){var l,r,c,f,h,g,m,v,p,T,w,E;let N,M;if("message"in a)N=a.message,M=a.signature;else{const{chain:B,wallet:H,statement:Y,options:q}=a;let Z;if(st())if(typeof H=="object")Z=H;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))Z=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=H}const me=new URL((l=q==null?void 0:q.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const ae=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q==null?void 0:q.signInWithSolana),{version:"1",domain:me.host,uri:me.href}),Y?{statement:Y}:null));let J;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")J=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)J=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)N=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),M=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${me.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${me.href}`,`Issued At: ${(c=(r=q==null?void 0:q.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=q==null?void 0:q.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((h=q==null?void 0:q.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((g=q==null?void 0:q.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((m=q==null?void 0:q.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((v=q==null?void 0:q.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((T=(p=q==null?void 0:q.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||T===void 0)&&T.length?["Resources",...q.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ae=await Z.signMessage(new TextEncoder().encode(N),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=ae}}try{const{data:B,error:H}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:ma(M)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:$t});if(H)throw H;if(!B||!B.session||!B.user){const Y=new ai;return this._returnResult({data:{user:null,session:null},error:Y})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:H})}catch(B){if(X(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(a){const l=await ha(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new gp;const{data:f,error:h}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:$t});if(await it(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const g=new ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:f,nonce:h}=a,g=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$t}),{data:m,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const p=new ai;return this._returnResult({data:{user:null,session:null},error:p})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,f,h;try{if("email"in a){const{email:g,options:m}=a;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await ii(this.storage,this.storageKey));const{error:T}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in a){const{phone:g,options:m}=a,{data:v,error:p}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(f=m==null?void 0:m.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:p})}throw new Jl("You must provide either an email or phone number.")}catch(g){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var l,r;try{let c,f;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,f=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:g}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:$t});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,f,h;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ii(this.storage,this.storageKey));const v=await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:qp});return!((f=v.data)===null||f===void 0)&&f.url&&st()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new Rt;const{error:c}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(X(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:f}=a,{error:h}=await P(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:r,type:c,options:f}=a,{data:h,error:g}=await P(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new Jl("You must provide either an email or phone number and a type")}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Uo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const h=await ha(this.userStorage,this.storageKey+"-user");h!=null&&h.user?a.user=h.user:a.user=Mo()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=Mp(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Kn}):await this._useSession(async l=>{var r,c,f;const{data:h,error:g}=l;if(g)throw g;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Kn})})}catch(l){if(X(l))return Do(l)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new Rt;const h=c.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await ii(this.storage,this.storageKey));const{data:v,error:p}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:Kn});if(p)throw p;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Rt;const l=Date.now()/1e3;let r=l,c=!0,f=null;const{payload:h}=Zl(a.access_token);if(h.exp&&(r=h.exp,c=r<=l),c){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});f={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(l){if(X(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:h,error:g}=l;if(g)throw g;a=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(a!=null&&a.refresh_token))throw new Rt;const{data:c,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!st())throw new Ql("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ql(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new _g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new _g("No code detected.");const{data:Y,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:g,expires_at:m,token_type:v}=a;if(!f||!g||!h||!v)throw new Ql("No session defined in URL");const p=Math.round(Date.now()/1e3),T=parseInt(g);let w=p+T;m&&(w=parseInt(m));const E=w-p;E*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${T}s`);const N=w-T;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,p);const{data:M,error:B}=await this._getUser(f);if(B)throw B;const H={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:T,expires_at:w,refresh_token:h,token_type:v,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:a.type},error:null})}catch(r){if(X(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f&&!Do(f))return this._returnResult({error:f});const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(hp(g)&&(g.status===404||g.status===401||g.status===403)||Do(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=wp(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:f},error:h}=l;if(h)throw h;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ii(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async f=>{var h,g,m,v,p;const{data:T,error:w}=f;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(v=T.session)===null||v===void 0?void 0:v.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return st()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:a.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(X(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:f}}=l;if(c)throw c;const{options:h,provider:g,token:m,access_token:v,nonce:p}=a,T=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f==null?void 0:f.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:m,access_token:v,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$t}),{data:w,error:E}=T;return E?this._returnResult({data:{user:null,session:null},error:E}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ai}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:E}))}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)throw h;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Ap(async c=>(c>0&&await Tp(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:$t})),(c,f)=>{const h=200*Math.pow(2,c);return f&&ko(f)&&Date.now()+h-r<ci})}catch(r){if(this._debug(l,"error",r),X(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),st()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ha(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await fi(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h==null?void 0:h.user)!==null&&a!==void 0?a:Mo()}else if(c&&!c.user&&!c.user){const h=await ha(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await it(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,c)):c.user=Mo()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Uo;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${Uo}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),ko(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ir;const{data:f,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!f.session)throw new Rt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(c,"error",f),X(f)){const h={data:null,error:f};return ko(f)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,l)}catch(m){f.push(m)}});if(await Promise.all(h),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await fi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const f=Ag(c);await fi(this.storage,this.storageKey,f)}else{const c=Ag(l);await fi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ci}ms, refresh threshold is ${Yo} ticks`),c<=Yo&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof fv)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await ii(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;return f?this._returnResult({data:null,error:f}):await P(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:f,error:h}=l;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:v}=await P(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?tb(a.webauthn.credential_response):nb(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await P(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:f}=l;if(f)return this._returnResult({data:null,error:f});const h=await P(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Fp(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:eb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=l==null?void 0:l.factors)!==null&&a!==void 0?a:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,f;if(a)try{const{payload:E}=Zl(a);let N=null;E.aal&&(N=E.aal);let M=N;const{data:{user:B},error:H}=await this.getUser(a);if(H)return this._returnResult({data:null,error:H});((r=(l=B==null?void 0:B.factors)===null||l===void 0?void 0:l.filter(Z=>Z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(M="aal2");const q=E.amr||[];return{data:{currentLevel:N,nextLevel:M,currentAuthenticationMethods:q},error:null}}catch(E){if(X(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:h},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Zl(h.access_token);let v=null;m.aal&&(v=m.aal);let p=v;((f=(c=h.user.factors)===null||c===void 0?void 0:c.filter(E=>E.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:v,nextLevel:p,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Rt});const h=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&st()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Rt});const h=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&st()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(a){if(X(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(g=>g.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===a),r&&this.jwks_cached_at+cp>c)return r;const{data:f,error:h}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(g=>g.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:E,error:N}=await this.getSession();if(N||!E.session)return this._returnResult({data:null,error:N});r=E.session.access_token}const{header:c,payload:f,signature:h,raw:{header:g,payload:m}}=Zl(r);l!=null&&l.allowExpired||Up(f.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!v){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:f,header:c,signature:h},error:null}}const p=Dp(c.alg),T=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,T,h,bp(`${g}.${m}`)))throw new Io("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}}_s.nextInstanceID={};const fb=_s,hb="2.95.3";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const db={"X-Client-Info":`supabase-js-${fs}/${hb}`},gb={headers:db},vb={schema:"public"},mb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yb={};function ws(s){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ws(s)}function pb(s,a){if(ws(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function bb(s){var a=pb(s,"string");return ws(a)=="symbol"?a:a+""}function _b(s,a,l){return(a=bb(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Ug(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Be(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Ug(Object(l),!0).forEach(function(r){_b(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Ug(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const wb=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Sb=()=>Headers,Eb=(s,a,l)=>{const r=wb(l),c=Sb();return async(f,h)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:s;let v=new c(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),r(f,Be(Be({},h),{},{headers:v}))}};function Tb(s){return s.endsWith("/")?s:s+"/"}function Ab(s,a){var l,r;const{db:c,auth:f,realtime:h,global:g}=s,{db:m,auth:v,realtime:p,global:T}=a,w={db:Be(Be({},m),c),auth:Be(Be({},v),f),realtime:Be(Be({},p),h),storage:{},global:Be(Be(Be({},T),g),{},{headers:Be(Be({},(l=T==null?void 0:T.headers)!==null&&l!==void 0?l:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function Ob(s){const a=s==null?void 0:s.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Rb=class extends fb{constructor(s){super(s)}},xb=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const f=Ob(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:vb,realtime:yb,auth:Be(Be({},mb),{},{storageKey:h}),global:gb},m=Ab(l??{},g);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=Eb(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new hy(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new sp(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new iy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:f,flowType:h,lock:g,debug:m,throwOnError:v},p,T){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rb({url:this.authUrl.href,headers:Be(Be({},w),p),storageKey:f,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:h,lock:g,debug:m,throwOnError:v,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Cy(this.realtimeUrl.href,Be(Be({},s),{},{params:Be(Be({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Cb=(s,a,l)=>new xb(s,a,l);function Nb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}Nb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jb="https://ippurulkctdgrskxtixh.supabase.co",Ub="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwcHVydWxrY3RkZ3Jza3h0aXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5Njg0NjQsImV4cCI6MjA4NjU0NDQ2NH0.JcAM53uKNrkA6mpu9nD06MD-ZtRn8EubObUTAz7OqLY",Vt=Cb(jb,Ub),Db=()=>{const[s,a]=qe.useState(""),[l,r]=qe.useState(""),[c,f]=qe.useState(""),[h,g]=qe.useState(!1),m=async v=>{if(v.preventDefault(),f(""),!s.trim().toLowerCase().endsWith("@acertax.com")){f("Unauthorized domain. Please use your @acertax.com email.");return}g(!0);const{error:p}=await Vt.auth.signInWithPassword({email:s.trim().toLowerCase(),password:l});p&&(f(p.message),g(!1))};return O.jsx("div",{className:"flex-1 flex items-center justify-center bg-white p-6",children:O.jsxs("div",{className:"w-full max-w-md bg-white rounded-[2.5rem] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.1)] border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-700",children:[O.jsxs("div",{className:"p-10 flex flex-col items-center",children:[O.jsxs("div",{className:"mb-10 flex flex-col items-center",children:[O.jsx("div",{className:"w-20 h-20 bg-orange-600 rounded-3xl flex items-center justify-center shadow-xl shadow-orange-200 mb-6 group transition-all duration-500 hover:scale-110",children:O.jsx("svg",{className:"w-10 h-10 text-white transform group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),O.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Acertax Connect"}),O.jsx("p",{className:"text-slate-400 font-semibold text-[10px] uppercase tracking-[0.25em] mt-3",children:"Employee Workspace"})]}),O.jsx("div",{className:"w-full",children:O.jsxs("form",{onSubmit:m,className:"space-y-5",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Corporate Email"}),O.jsx("div",{className:"relative group",children:O.jsx("input",{type:"email",value:s,onChange:v=>a(v.target.value),placeholder:"name@acertax.com",autoFocus:!0,required:!0,className:"w-full px-6 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:border-orange-600 focus:bg-white focus:ring-4 focus:ring-orange-100 outline-none transition-all text-slate-800 font-medium placeholder:text-slate-300"})})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Password"}),O.jsx("div",{className:"relative group",children:O.jsx("input",{type:"password",value:l,onChange:v=>r(v.target.value),placeholder:"",required:!0,className:"w-full px-6 py-4 rounded-2xl bg-slate-50 border-2 border-transparent focus:border-orange-600 focus:bg-white focus:ring-4 focus:ring-orange-100 outline-none transition-all text-slate-800 font-medium placeholder:text-slate-300"})})]}),c&&O.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 text-[13px] rounded-2xl flex items-center gap-3 animate-in shake duration-300",children:[O.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:O.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),O.jsx("span",{className:"font-semibold",children:c})]}),O.jsx("div",{className:"pt-2",children:O.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 bg-orange-600 hover:bg-orange-700 text-white font-bold rounded-2xl shadow-xl shadow-orange-100 transition-all active:scale-[0.98] disabled:opacity-70 flex items-center justify-center gap-3",children:h?O.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Login to Workspace"})})]})})]}),O.jsx("div",{className:"bg-slate-50 p-6 text-center border-t border-slate-100",children:O.jsx("p",{className:"text-[9px] text-slate-400 font-bold leading-relaxed max-w-[280px] mx-auto uppercase tracking-wider",children:"Authorized for Acertax Inc. employees only. Corporate IT security policies apply."})})]})})},kb=({user:s,colleagues:a,rooms:l,activeRoomId:r,onSelectMember:c,onSelectRoom:f,onDeleteRoom:h,onLogout:g})=>{const m=(v,p,T)=>{v.stopPropagation(),window.confirm(`Are you sure you want to delete the chat with ${T}? All messages in this local session will be removed.`)&&h(p)};return O.jsxs("div",{className:"w-72 flex flex-col border-r border-slate-200 bg-white",children:[O.jsx("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:O.jsxs("div",{className:"flex items-center gap-2.5",children:[O.jsx("div",{className:"bg-orange-600 p-1.5 rounded-lg text-white",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),O.jsx("span",{className:"font-bold text-slate-900 tracking-tight",children:"Acertax"})]})}),O.jsx("div",{className:"p-4",children:O.jsxs("div",{className:"relative group",children:[O.jsx("input",{type:"text",placeholder:"Search colleagues...",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all"}),O.jsx("svg",{className:"w-4 h-4 absolute left-3.5 top-3 text-slate-400 group-focus-within:text-orange-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),O.jsxs("div",{className:"flex-1 overflow-y-auto px-3 pb-4",children:[O.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[O.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Colleagues"}),O.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded-md font-bold",children:[a.filter(v=>v.status==="online").length," ONLINE"]})]}),O.jsx("div",{className:"space-y-0.5",children:a.map(v=>{const p=l.find(w=>w.type==="direct"&&w.participants.includes(v.id)&&w.participants.length===2),T=p&&r===p.id;return O.jsxs("div",{className:"relative group",children:[O.jsxs("button",{onClick:()=>c(v),className:`w-full flex items-center p-2.5 rounded-xl transition-all duration-200 ${T?"bg-orange-50":"hover:bg-slate-50"}`,children:[O.jsxs("div",{className:"relative mr-3",children:[O.jsx("img",{src:v.avatar,className:"w-9 h-9 rounded-full border-2 border-white shadow-sm object-cover",alt:""}),O.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-white rounded-full ${v.status==="online"?"bg-green-500":"bg-amber-400"}`})]}),O.jsxs("div",{className:"flex-1 text-left min-w-0 pr-6",children:[O.jsx("div",{className:`font-semibold truncate text-sm ${T?"text-orange-700":"text-slate-700"}`,children:v.name}),O.jsx("div",{className:"text-[11px] text-slate-400 truncate",children:v.status==="online"?"Available":"Away"})]})]}),p&&O.jsx("button",{onClick:w=>m(w,p.id,v.name),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",title:"Delete chat",children:O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},v.id)})}),l.some(v=>v.participants.length>2)&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"flex items-center justify-between px-2 mt-6 mb-3",children:O.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:"Group Chats"})}),O.jsx("div",{className:"space-y-0.5",children:l.filter(v=>v.participants.length>2).map(v=>O.jsxs("div",{className:"relative group",children:[O.jsxs("button",{onClick:()=>f(v.id),className:`w-full flex items-center p-2.5 rounded-xl transition-all duration-200 ${r===v.id?"bg-orange-50":"hover:bg-slate-50"}`,children:[O.jsx("div",{className:"w-9 h-9 bg-orange-100 rounded-xl flex items-center justify-center mr-3 text-orange-600 font-bold text-xs shadow-sm",children:v.participants.length}),O.jsxs("div",{className:"flex-1 text-left min-w-0 pr-6",children:[O.jsx("div",{className:`font-semibold truncate text-sm ${r===v.id?"text-orange-700":"text-slate-700"}`,children:v.name||"Multi-person Chat"}),O.jsxs("div",{className:"text-[11px] text-slate-400 truncate",children:[v.participants.length," participants"]})]})]}),O.jsx("button",{onClick:p=>m(p,v.id,v.name||"Group Chat"),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",title:"Delete group chat",children:O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},v.id))})]})]}),O.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50",children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("img",{src:s.avatar,className:"w-10 h-10 rounded-full border-2 border-white shadow-md",alt:s.name}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("div",{className:"font-bold text-slate-900 truncate text-xs",children:s.name}),O.jsx("div",{className:"text-[10px] text-slate-400 truncate tracking-tight",children:s.email})]}),O.jsx("button",{onClick:g,className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Logout",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})};var Dg;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(Dg||(Dg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kg;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(kg||(kg={}));var Mg;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Mg||(Mg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=["user","model","function","system"];var Lg;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Lg||(Lg={}));var Bg;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(Bg||(Bg={}));var qg;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(qg||(qg={}));var Hg;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(Hg||(Hg={}));var gs;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(gs||(gs={}));var Gg;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(Gg||(Gg={}));var $g;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})($g||($g={}));var Yg;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Yg||(Yg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Error{constructor(a){super(`[GoogleGenerativeAI Error]: ${a}`)}}class ui extends rt{constructor(a,l){super(a),this.response=l}}class gv extends rt{constructor(a,l,r,c){super(a),this.status=l,this.statusText=r,this.errorDetails=c}}class Vn extends rt{}class vv extends rt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="https://generativelanguage.googleapis.com",zb="v1beta",Lb="0.24.1",Bb="genai-js";var ya;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ya||(ya={}));class qb{constructor(a,l,r,c,f){this.model=a,this.task=l,this.apiKey=r,this.stream=c,this.requestOptions=f}toString(){var a,l;const r=((a=this.requestOptions)===null||a===void 0?void 0:a.apiVersion)||zb;let f=`${((l=this.requestOptions)===null||l===void 0?void 0:l.baseUrl)||Mb}/${r}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function Hb(s){const a=[];return s!=null&&s.apiClient&&a.push(s.apiClient),a.push(`${Bb}/${Lb}`),a.join(" ")}async function Gb(s){var a;const l=new Headers;l.append("Content-Type","application/json"),l.append("x-goog-api-client",Hb(s.requestOptions)),l.append("x-goog-api-key",s.apiKey);let r=(a=s.requestOptions)===null||a===void 0?void 0:a.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(c){throw new Vn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${c.message}`)}for(const[c,f]of r.entries()){if(c==="x-goog-api-key")throw new Vn(`Cannot set reserved header name ${c}`);if(c==="x-goog-api-client")throw new Vn(`Header name ${c} can only be set using the apiClient field`);l.append(c,f)}}return l}async function $b(s,a,l,r,c,f){const h=new qb(s,a,l,r,f);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},Ib(f)),{method:"POST",headers:await Gb(h),body:c})}}async function As(s,a,l,r,c,f={},h=fetch){const{url:g,fetchOptions:m}=await $b(s,a,l,r,c,f);return Yb(g,m,h)}async function Yb(s,a,l=fetch){let r;try{r=await l(s,a)}catch(c){Kb(c,s)}return r.ok||await Vb(r,s),r}function Kb(s,a){let l=s;throw l.name==="AbortError"?(l=new vv(`Request aborted when fetching ${a.toString()}: ${s.message}`),l.stack=s.stack):s instanceof gv||s instanceof Vn||(l=new rt(`Error fetching from ${a.toString()}: ${s.message}`),l.stack=s.stack),l}async function Vb(s,a){let l="",r;try{const c=await s.json();l=c.error.message,c.error.details&&(l+=` ${JSON.stringify(c.error.details)}`,r=c.error.details)}catch{}throw new gv(`Error fetching from ${a.toString()}: [${s.status} ${s.statusText}] ${l}`,s.status,s.statusText,r)}function Ib(s){const a={};if((s==null?void 0:s.signal)!==void 0||(s==null?void 0:s.timeout)>=0){const l=new AbortController;(s==null?void 0:s.timeout)>=0&&setTimeout(()=>l.abort(),s.timeout),s!=null&&s.signal&&s.signal.addEventListener("abort",()=>{l.abort()}),a.signal=l.signal}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Wl(s.candidates[0]))throw new ui(`${Yn(s)}`,s);return Xb(s)}else if(s.promptFeedback)throw new ui(`Text not available. ${Yn(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Wl(s.candidates[0]))throw new ui(`${Yn(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Kg(s)[0]}else if(s.promptFeedback)throw new ui(`Function call not available. ${Yn(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Wl(s.candidates[0]))throw new ui(`${Yn(s)}`,s);return Kg(s)}else if(s.promptFeedback)throw new ui(`Function call not available. ${Yn(s)}`,s)},s}function Xb(s){var a,l,r,c;const f=[];if(!((l=(a=s.candidates)===null||a===void 0?void 0:a[0].content)===null||l===void 0)&&l.parts)for(const h of(c=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||c===void 0?void 0:c.parts)h.text&&f.push(h.text),h.executableCode&&f.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&f.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function Kg(s){var a,l,r,c;const f=[];if(!((l=(a=s.candidates)===null||a===void 0?void 0:a[0].content)===null||l===void 0)&&l.parts)for(const h of(c=(r=s.candidates)===null||r===void 0?void 0:r[0].content)===null||c===void 0?void 0:c.parts)h.functionCall&&f.push(h.functionCall);if(f.length>0)return f}const Jb=[gs.RECITATION,gs.SAFETY,gs.LANGUAGE];function Wl(s){return!!s.finishReason&&Jb.includes(s.finishReason)}function Yn(s){var a,l,r;let c="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)c+="Response was blocked",!((a=s.promptFeedback)===null||a===void 0)&&a.blockReason&&(c+=` due to ${s.promptFeedback.blockReason}`),!((l=s.promptFeedback)===null||l===void 0)&&l.blockReasonMessage&&(c+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((r=s.candidates)===null||r===void 0)&&r[0]){const f=s.candidates[0];Wl(f)&&(c+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(c+=`: ${f.finishMessage}`))}return c}function Ss(s){return this instanceof Ss?(this.v=s,this):new Ss(s)}function Qb(s,a,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=l.apply(s,a||[]),c,f=[];return c={},h("next"),h("throw"),h("return"),c[Symbol.asyncIterator]=function(){return this},c;function h(w){r[w]&&(c[w]=function(E){return new Promise(function(N,M){f.push([w,E,N,M])>1||g(w,E)})})}function g(w,E){try{m(r[w](E))}catch(N){T(f[0][3],N)}}function m(w){w.value instanceof Ss?Promise.resolve(w.value.v).then(v,p):T(f[0][2],w)}function v(w){g("next",w)}function p(w){g("throw",w)}function T(w,E){w(E),f.shift(),f.length&&g(f[0][0],f[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Zb(s){const a=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),l=Fb(a),[r,c]=l.tee();return{stream:Pb(r),response:Wb(c)}}async function Wb(s){const a=[],l=s.getReader();for(;;){const{done:r,value:c}=await l.read();if(r)return Zo(e_(a));a.push(c)}}function Pb(s){return Qb(this,arguments,function*(){const l=s.getReader();for(;;){const{value:r,done:c}=yield Ss(l.read());if(c)break;yield yield Ss(Zo(r))}})}function Fb(s){const a=s.getReader();return new ReadableStream({start(r){let c="";return f();function f(){return a.read().then(({value:h,done:g})=>{if(g){if(c.trim()){r.error(new rt("Failed to parse stream"));return}r.close();return}c+=h;let m=c.match(Vg),v;for(;m;){try{v=JSON.parse(m[1])}catch{r.error(new rt(`Error parsing JSON response: "${m[1]}"`));return}r.enqueue(v),c=c.substring(m[0].length),m=c.match(Vg)}return f()}).catch(h=>{let g=h;throw g.stack=h.stack,g.name==="AbortError"?g=new vv("Request aborted when reading from the stream"):g=new rt("Error reading from the stream"),g})}}})}function e_(s){const a=s[s.length-1],l={promptFeedback:a==null?void 0:a.promptFeedback};for(const r of s){if(r.candidates){let c=0;for(const f of r.candidates)if(l.candidates||(l.candidates=[]),l.candidates[c]||(l.candidates[c]={index:c}),l.candidates[c].citationMetadata=f.citationMetadata,l.candidates[c].groundingMetadata=f.groundingMetadata,l.candidates[c].finishReason=f.finishReason,l.candidates[c].finishMessage=f.finishMessage,l.candidates[c].safetyRatings=f.safetyRatings,f.content&&f.content.parts){l.candidates[c].content||(l.candidates[c].content={role:f.content.role||"user",parts:[]});const h={};for(const g of f.content.parts)g.text&&(h.text=g.text),g.functionCall&&(h.functionCall=g.functionCall),g.executableCode&&(h.executableCode=g.executableCode),g.codeExecutionResult&&(h.codeExecutionResult=g.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),l.candidates[c].content.parts.push(h)}c++}r.usageMetadata&&(l.usageMetadata=r.usageMetadata)}return l}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(s,a,l,r){const c=await As(a,ya.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(l),r);return Zb(c)}async function yv(s,a,l,r){const f=await(await As(a,ya.GENERATE_CONTENT,s,!1,JSON.stringify(l),r)).json();return{response:Zo(f)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Es(s){let a=[];if(typeof s=="string")a=[{text:s}];else for(const l of s)typeof l=="string"?a.push({text:l}):a.push(l);return t_(a)}function t_(s){const a={role:"user",parts:[]},l={role:"function",parts:[]};let r=!1,c=!1;for(const f of s)"functionResponse"in f?(l.parts.push(f),c=!0):(a.parts.push(f),r=!0);if(r&&c)throw new rt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!c)throw new rt("No content is provided for sending chat message.");return r?a:l}function n_(s,a){var l;let r={model:a==null?void 0:a.model,generationConfig:a==null?void 0:a.generationConfig,safetySettings:a==null?void 0:a.safetySettings,tools:a==null?void 0:a.tools,toolConfig:a==null?void 0:a.toolConfig,systemInstruction:a==null?void 0:a.systemInstruction,cachedContent:(l=a==null?void 0:a.cachedContent)===null||l===void 0?void 0:l.name,contents:[]};const c=s.generateContentRequest!=null;if(s.contents){if(c)throw new Vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=s.contents}else if(c)r=Object.assign(Object.assign({},r),s.generateContentRequest);else{const f=Es(s);r.contents=[f]}return{generateContentRequest:r}}function Ig(s){let a;return s.contents?a=s:a={contents:[Es(s)]},s.systemInstruction&&(a.systemInstruction=pv(s.systemInstruction)),a}function a_(s){return typeof s=="string"||Array.isArray(s)?{content:Es(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],i_={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function s_(s){let a=!1;for(const l of s){const{role:r,parts:c}=l;if(!a&&r!=="user")throw new rt(`First content should be with role 'user', got ${r}`);if(!zg.includes(r))throw new rt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(zg)}`);if(!Array.isArray(c))throw new rt("Content should have 'parts' property with an array of Parts");if(c.length===0)throw new rt("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of c)for(const m of Xg)m in g&&(f[m]+=1);const h=i_[r];for(const g of Xg)if(!h.includes(g)&&f[g]>0)throw new rt(`Content with role '${r}' can't contain '${g}' part`);a=!0}}function Jg(s){var a;if(s.candidates===void 0||s.candidates.length===0)return!1;const l=(a=s.candidates[0])===null||a===void 0?void 0:a.content;if(l===void 0||l.parts===void 0||l.parts.length===0)return!1;for(const r of l.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="SILENT_ERROR";class l_{constructor(a,l,r,c={}){this.model=l,this.params=r,this._requestOptions=c,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=a,r!=null&&r.history&&(s_(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(a,l={}){var r,c,f,h,g,m;await this._sendPromise;const v=Es(a),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,v]},T=Object.assign(Object.assign({},this._requestOptions),l);let w;return this._sendPromise=this._sendPromise.then(()=>yv(this._apiKey,this.model,p,T)).then(E=>{var N;if(Jg(E.response)){this._history.push(v);const M=Object.assign({parts:[],role:"model"},(N=E.response.candidates)===null||N===void 0?void 0:N[0].content);this._history.push(M)}else{const M=Yn(E.response);M&&console.warn(`sendMessage() was unsuccessful. ${M}. Inspect response object for details.`)}w=E}).catch(E=>{throw this._sendPromise=Promise.resolve(),E}),await this._sendPromise,w}async sendMessageStream(a,l={}){var r,c,f,h,g,m;await this._sendPromise;const v=Es(a),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,v]},T=Object.assign(Object.assign({},this._requestOptions),l),w=mv(this._apiKey,this.model,p,T);return this._sendPromise=this._sendPromise.then(()=>w).catch(E=>{throw new Error(Qg)}).then(E=>E.response).then(E=>{if(Jg(E)){this._history.push(v);const N=Object.assign({},E.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{const N=Yn(E);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(E=>{E.message!==Qg&&console.error(E)}),w}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(s,a,l,r){return(await As(a,ya.COUNT_TOKENS,s,!1,JSON.stringify(l),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u_(s,a,l,r){return(await As(a,ya.EMBED_CONTENT,s,!1,JSON.stringify(l),r)).json()}async function o_(s,a,l,r){const c=l.requests.map(h=>Object.assign(Object.assign({},h),{model:a}));return(await As(a,ya.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:c}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(a,l,r={}){this.apiKey=a,this._requestOptions=r,l.model.includes("/")?this.model=l.model:this.model=`models/${l.model}`,this.generationConfig=l.generationConfig||{},this.safetySettings=l.safetySettings||[],this.tools=l.tools,this.toolConfig=l.toolConfig,this.systemInstruction=pv(l.systemInstruction),this.cachedContent=l.cachedContent}async generateContent(a,l={}){var r;const c=Ig(a),f=Object.assign(Object.assign({},this._requestOptions),l);return yv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},c),f)}async generateContentStream(a,l={}){var r;const c=Ig(a),f=Object.assign(Object.assign({},this._requestOptions),l);return mv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},c),f)}startChat(a){var l;return new l_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},a),this._requestOptions)}async countTokens(a,l={}){const r=n_(a,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),c=Object.assign(Object.assign({},this._requestOptions),l);return r_(this.apiKey,this.model,r,c)}async embedContent(a,l={}){const r=a_(a),c=Object.assign(Object.assign({},this._requestOptions),l);return u_(this.apiKey,this.model,r,c)}async batchEmbedContents(a,l={}){const r=Object.assign(Object.assign({},this._requestOptions),l);return o_(this.apiKey,this.model,a,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(a){this.apiKey=a}getGenerativeModel(a,l){if(!a.model)throw new rt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Zg(this.apiKey,a,l)}getGenerativeModelFromCachedContent(a,l,r){if(!a.name)throw new Vn("Cached content must contain a `name` field.");if(!a.model)throw new Vn("Cached content must contain a `model` field.");const c=["model","systemInstruction"];for(const h of c)if(l!=null&&l[h]&&a[h]&&(l==null?void 0:l[h])!==a[h]){if(h==="model"){const g=l.model.startsWith("models/")?l.model.replace("models/",""):l.model,m=a.model.startsWith("models/")?a.model.replace("models/",""):a.model;if(g===m)continue}throw new Vn(`Different value for "${h}" specified in modelParams (${l[h]}) and cachedContent (${a[h]})`)}const f=Object.assign(Object.assign({},l),{model:a.model,tools:a.tools,toolConfig:a.toolConfig,systemInstruction:a.systemInstruction,cachedContent:a});return new Zg(this.apiKey,f,r)}}const f_="AIzaSyAk7nfF2x8uKR2MMVygz_fLUZo0Ifv26RI",bv=new c_(f_),h_=async(s,a)=>{try{return(await(await bv.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:"You are Acertax Assistant, an AI expert integrated into the Acertax internal chat app. You help employees with productivity, summaries, and professional advice. Keep responses concise and professional."}).startChat({history:a,generationConfig:{temperature:.7}}).sendMessage(s)).response).text()}catch(l){return console.error("Gemini API Error:",l),"I'm sorry, I'm having trouble connecting to the corporate AI brain right now."}},d_=async s=>{try{const a=bv.getGenerativeModel({model:"gemini-1.5-flash"}),l=`Summarize the following internal chat conversation in 3 bullet points:

${s.join(`
`)}`;return(await(await a.generateContent(l)).response).text()}catch(a){return console.error("Summary Error:",a),"Summary unavailable."}},g_=({user:s,room:a,allUsers:l,onUpdateRoom:r,onInviteParticipant:c})=>{var Me;const[f,h]=qe.useState([]),[g,m]=qe.useState(""),[v,p]=qe.useState(!1),[T,w]=qe.useState(!1),[E,N]=qe.useState(""),[M,B]=qe.useState(!1),H=qe.useRef(null),q=l.filter(te=>a.participants.includes(te.id)).filter(te=>te.id!==s.id),Z=a.participants.length>2?q.map(te=>te.name.split(" ")[0]).join(", "):((Me=q[0])==null?void 0:Me.name)||"Chat",me=l.filter(te=>!a.participants.includes(te.id));qe.useEffect(()=>{(async()=>{const{data:de,error:xe}=await Vt.from("messages").select("*").eq("room_id",a.id).order("created_at",{ascending:!0});if(xe)console.error("Error fetching messages:",xe);else{const Ye=de.map(je=>{var U;return{id:je.id,senderId:je.user_id,senderName:((U=l.find(G=>G.id===je.user_id))==null?void 0:U.name)||(je.is_ai?"Assistant":"Unknown"),text:je.content,timestamp:new Date(je.created_at),isAi:je.is_ai||!1}});h(Ye)}})();const Re=Vt.channel(`room_${a.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${a.id}`},de=>{const xe=de.new;h(Ye=>{var U;if(Ye.find(G=>G.id===xe.id))return Ye;const je={id:xe.id,senderId:xe.user_id,senderName:((U=l.find(G=>G.id===xe.user_id))==null?void 0:U.name)||(xe.is_ai?"Assistant":"Unknown"),text:xe.content,timestamp:new Date(xe.created_at),isAi:xe.is_ai||!1};return[...Ye,je]})}).subscribe();return()=>{Vt.removeChannel(Re)}},[a.id,l,s.id]),qe.useEffect(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)},[f,v]);const ae=async te=>{if(te.preventDefault(),!g.trim())return;const Re=g;m("");const{data:de,error:xe}=await Vt.from("messages").insert([{user_id:s.id,content:Re,room_id:a.id,is_ai:!1}]).select();if(xe){console.error("Error sending message:",xe);return}if(de&&de[0]&&r({...a,lastMessage:Re}),Re.toLowerCase().includes("@ai")){p(!0);const Ye=f.slice(-5).map(U=>({role:U.senderId===s.id?"user":"model",parts:[{text:U.text}]})),je=await h_(Re,Ye);await Vt.from("messages").insert([{user_id:s.id,content:je||"I'm on standby.",room_id:a.id,is_ai:!0}]),p(!1)}},J=async()=>{p(!0);const te=f.map(de=>`${de.senderName}: ${de.text}`),Re=await d_(te);N(Re||"Summary generated based on recent context."),w(!0),p(!1)},Ne=async te=>{c(te),B(!1);const Re=l.find(xe=>xe.id===te),de=`${s.name} added ${Re==null?void 0:Re.name} to the conversation.`;await Vt.from("messages").insert([{user_id:s.id,content:de,room_id:a.id,is_ai:!1}])};return O.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative",children:[O.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between bg-white/80 backdrop-blur-md sticky top-0 z-20 shadow-sm",children:[O.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[O.jsxs("div",{className:"flex -space-x-3 overflow-hidden",children:[q.slice(0,3).map(te=>O.jsx("img",{src:te.avatar,className:"inline-block h-10 w-10 rounded-full ring-2 ring-white object-cover",alt:""},te.id)),q.length>3&&O.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 ring-2 ring-white text-[10px] font-bold text-slate-500",children:["+",q.length-3]})]}),O.jsxs("div",{className:"min-w-0",children:[O.jsx("h2",{className:"font-bold text-slate-900 text-base leading-tight truncate",children:Z}),O.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),O.jsxs("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:[a.participants.length," Active Participants"]})]})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("button",{onClick:()=>B(!M),className:"flex items-center gap-2 px-3 py-1.5 text-[11px] font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-all",children:[O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"ADD PEOPLE"]}),O.jsx("button",{onClick:J,className:"flex items-center gap-2 px-3 py-1.5 text-[11px] font-bold text-orange-600 bg-orange-50 hover:bg-orange-100 rounded-lg transition-all",children:"SUMMARIZE"})]}),M&&O.jsxs("div",{className:"absolute top-16 right-6 w-64 bg-white border border-slate-200 rounded-xl shadow-2xl z-30 p-2 animate-in fade-in zoom-in-95 duration-200",children:[O.jsx("h4",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase",children:"Invite Colleagues"}),O.jsx("div",{className:"max-h-60 overflow-y-auto",children:me.length>0?me.map(te=>O.jsxs("button",{onClick:()=>Ne(te.id),className:"w-full flex items-center gap-3 p-2 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[O.jsx("img",{src:te.avatar,className:"w-8 h-8 rounded-full",alt:""}),O.jsxs("div",{className:"min-w-0",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-700 truncate",children:te.name}),O.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:te.email})]})]},te.id)):O.jsx("div",{className:"p-4 text-center text-xs text-slate-400 italic",children:"No one else available"})})]})]}),T&&O.jsx("div",{className:"px-6 py-4 bg-orange-50/50 border-b border-orange-100 animate-in slide-in-from-top duration-300",children:O.jsxs("div",{className:"flex items-start gap-3",children:[O.jsx("div",{className:"mt-1 bg-orange-600 rounded-md p-1",children:O.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h4",{className:"text-xs font-bold text-orange-900 mb-1 tracking-tight",children:"AI SUMMARY"}),O.jsx("p",{className:"text-xs text-orange-800 leading-relaxed italic opacity-90",children:E})]}),O.jsx("button",{onClick:()=>w(!1),className:"text-orange-400 hover:text-orange-600",children:O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),O.jsxs("div",{ref:H,className:"flex-1 overflow-y-auto p-6 space-y-8",children:[f.map((te,Re)=>{var Ye;const de=te.senderId===s.id,xe=Re===0||f[Re-1].senderId!==te.senderId;return O.jsxs("div",{className:`flex flex-col ${de?"items-end":"items-start"}`,children:[xe&&!de&&O.jsxs("div",{className:"flex items-center gap-2 mb-2 ml-1",children:[O.jsx("span",{className:"text-[11px] font-bold text-slate-600 uppercase tracking-tight",children:te.senderName}),O.jsx("span",{className:"text-[9px] text-slate-300 font-medium",children:te.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),O.jsxs("div",{className:"flex items-end gap-3 max-w-[85%] group",children:[!de&&O.jsx("img",{src:te.isAi?"https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d473530465115985961a.svg":((Ye=l.find(je=>je.id===te.senderId))==null?void 0:Ye.avatar)||`https://ui-avatars.com/api/?name=${te.senderName}&background=random`,className:`w-8 h-8 rounded-xl object-cover shadow-sm ${te.isAi?"p-1.5 bg-orange-600":""}`,alt:""}),O.jsx("div",{className:`relative p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm transition-all duration-200 ${de?"bg-orange-600 text-white rounded-tr-none":te.isAi?"bg-slate-900 text-slate-100 rounded-tl-none font-medium":"bg-white text-slate-700 border border-slate-200 rounded-tl-none"}`,children:te.text}),de&&O.jsx("span",{className:"text-[9px] text-slate-300 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:te.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},te.id)}),v&&O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded-xl animate-pulse"}),O.jsxs("div",{className:"flex gap-1.5 p-3.5 bg-white border border-slate-100 rounded-2xl rounded-tl-none",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),O.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),O.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}),O.jsx("div",{className:"p-6 bg-white border-t border-slate-100 shadow-[0_-4px_12px_rgba(0,0,0,0.02)]",children:O.jsxs("form",{onSubmit:ae,className:"max-w-4xl mx-auto relative flex items-center gap-4",children:[O.jsx("button",{type:"button",className:"p-2.5 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",children:O.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),O.jsxs("div",{className:"flex-1 relative",children:[O.jsx("input",{type:"text",value:g,onChange:te=>m(te.target.value),placeholder:"Type @ai for help or message colleagues...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-4 pl-5 pr-14 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all placeholder:text-slate-400"}),O.jsx("button",{type:"submit",disabled:!g.trim(),className:"absolute right-2 top-2 p-2.5 bg-orange-600 text-white rounded-xl shadow-md hover:bg-orange-700 hover:scale-105 active:scale-95 disabled:bg-slate-200 disabled:shadow-none transition-all",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})]})})]})},v_=({user:s,onLogout:a})=>{const[l,r]=qe.useState([]),[c,f]=qe.useState([]),[h,g]=qe.useState(null);qe.useEffect(()=>{(async()=>{const{data:E,error:N}=await Vt.from("profiles").select("*").neq("id",s.id);if(N)console.error("Error fetching employees:",N);else if(E){const M=E.map(B=>({id:B.id,name:B.name||"Anonymous",email:B.email||"",avatar:B.avatar||`https://ui-avatars.com/api/?name=${B.name}&background=random`,status:B.status||"online"}));r(M)}})()},[s.id]);const m=w=>{const E=[s.id,w.id].sort(),N=`room_${E[0]}_${E[1]}`,M=c.find(B=>B.id===N);if(M)g(M.id);else{const B={id:N,name:w.name,type:"direct",participants:[s.id,w.id],unreadCount:0};f(H=>[...H,B]),g(B.id)}},v=(w,E)=>{f(N=>N.map(M=>{if(M.id===w){const B=[...new Set([...M.participants,E])];return{...M,participants:B,type:B.length>2?"group":M.type}}return M}))},p=w=>{h===w&&g(null),f(E=>E.filter(N=>N.id!==w))},T=qe.useMemo(()=>c.find(w=>w.id===h),[c,h]);return O.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-white shadow-2xl rounded-xl border border-slate-200 max-w-[1600px] mx-auto",children:[O.jsx(kb,{user:s,colleagues:l,rooms:c,activeRoomId:h,onSelectMember:m,onSelectRoom:g,onDeleteRoom:p,onLogout:a}),O.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:T?O.jsx(g_,{user:s,room:T,allUsers:[s,...l],onUpdateRoom:w=>{f(E=>E.map(N=>N.id===w.id?w:N))},onInviteParticipant:w=>v(T.id,w)}):O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-8 text-center",children:[O.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6",children:O.jsx("svg",{className:"w-10 h-10 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-5.062A8.935 8.935 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),O.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2 font-black tracking-tight",children:"Welcome to Acertax Connect"}),O.jsx("p",{className:"max-w-xs text-xs font-medium uppercase tracking-widest leading-relaxed",children:"Select a colleague to start a secure conversation."})]})})]})},m_=()=>{const[s,a]=qe.useState({user:null,isAuthenticated:!1}),[l,r]=qe.useState(!0);qe.useEffect(()=>{(async()=>{const{data:{session:m}}=await Vt.auth.getSession();m&&c(m.user),r(!1)})();const{data:{subscription:g}}=Vt.auth.onAuthStateChange((m,v)=>{v?c(v.user):a({user:null,isAuthenticated:!1}),r(!1)});return()=>{g.unsubscribe()}},[]);const c=h=>{const g=h.email.split("@")[0],m=g.includes(".")?g.split("."):[g,""],v=m[0].charAt(0).toUpperCase()+m[0].slice(1),p=m[1]?m[1].charAt(0).toUpperCase()+m[1].slice(1):"",T={id:h.id,name:`${v} ${p}`.trim()||"Colleague",email:h.email,avatar:`https://ui-avatars.com/api/?name=${v}+${p}&background=ea580c&color=fff&size=128&bold=true`,status:"online"};a({user:T,isAuthenticated:!0})},f=async()=>{await Vt.auth.signOut(),a({user:null,isAuthenticated:!1})};return l?O.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full gap-4",children:[O.jsx("div",{className:"w-12 h-12 border-4 border-orange-600 border-t-transparent rounded-full animate-spin"}),O.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest",children:"Verifying Connection..."})]}):O.jsx(O.Fragment,{children:s.isAuthenticated?O.jsx(v_,{user:s.user,onLogout:f}):O.jsx(Db,{onLogin:()=>{}})})},Wg=document.getElementById("root");Wg?ey.createRoot(Wg).render(O.jsx(X0.StrictMode,{children:O.jsx(m_,{})})):console.error("The 'root' element was not found in index.html");
